webpackJsonp([1],{0:function(e,n,t){e.exports=t("DXDq")},"0j86":function(e,n,t){"use strict";function l(e){return a.\u0275vid(0,[(e()(),a.\u0275eld(0,null,null,2,"agm-marker",[],null,[[null,"markerClick"]],function(e,n,t){var l=!0,o=e.component;if("markerClick"===n){l=!1!==o.mapClicked({coords:e.context.$implicit})&&l}return l},null,null)),a.\u0275did(1720320,null,1,s.AgmMarker,[u.MarkerManager],{latitude:[0,"latitude"],longitude:[1,"longitude"],openInfoWindow:[2,"openInfoWindow"]},{markerClick:"markerClick"}),a.\u0275qud(603979776,3,{infoWindow:1})],function(e,n){e(n,1,0,n.context.$implicit.lat,n.context.$implicit.lng,!1)},null)}function o(e){return a.\u0275vid(0,[a.\u0275qud(402653184,1,{days:0}),a.\u0275qud(402653184,2,{tripLayer:0}),(e()(),a.\u0275ted(null,["\n\n"])),(e()(),a.\u0275eld(0,null,null,53,"div",[["class","h100 flex-col"],["id","initerary"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n  "])),(e()(),a.\u0275eld(0,null,null,13,"header",[["class","flex-row region region-header schedule_menu_color schedule_menu_text_color"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n\n    "])),(e()(),a.\u0275eld(0,null,null,10,"span",[["class","title flex-auto"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n      "])),(e()(),a.\u0275eld(0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-map"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n       | "])),(e()(),a.\u0275eld(0,null,null,2,"span",[["class","backtohomepage"]],null,null,null,null,null)),(e()(),a.\u0275eld(0,null,null,1,"a",[["href","."]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["",""])),(e()(),a.\u0275ted(null,[" |\n      "])),(e()(),a.\u0275eld(0,null,null,1,"span",[["class","schedule-link"]],null,[[null,"click"]],function(e,n,t){var l=!0,o=e.component;if("click"===n){l=!1!==o.fullMap()&&l}return l},null,null)),(e()(),a.\u0275ted(null,["",""])),(e()(),a.\u0275ted(null,["\n    "])),(e()(),a.\u0275ted(null,["\n  "])),(e()(),a.\u0275ted(null,["\n\n  "])),(e()(),a.\u0275eld(0,null,null,35,"div",[["class","flex-auto flex-row rotate"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n    "])),(e()(),a.\u0275ted(null,["\n    "])),(e()(),a.\u0275eld(0,null,null,22,"div",[["class","flex-auto relative"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n      "])),(e()(),a.\u0275eld(0,null,null,19,"div",[["class","abs-fill"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n      "])),(e()(),a.\u0275eld(0,null,null,16,"agm-map",[],[[2,"sebm-google-map-container",null]],[[null,"centerChange"],[null,"zoomChange"],[null,"mapClick"]],function(e,n,t){var l=!0,o=e.component;if("centerChange"===n){l=!1!==o.centerChanged(t)&&l}if("zoomChange"===n){l=!1!==o.zoomChanged(t)&&l}if("mapClick"===n){l=!1!==o.mapClicked(t)&&l}return l},p.View_AgmMap_0,p.RenderType_AgmMap)),a.\u0275prd(4608,null,u.MarkerManager,u.MarkerManager,[c.GoogleMapsAPIWrapper,a.NgZone]),a.\u0275prd(4608,null,f.InfoWindowManager,f.InfoWindowManager,[c.GoogleMapsAPIWrapper,a.NgZone,u.MarkerManager]),a.\u0275prd(4608,null,h.CircleManager,h.CircleManager,[c.GoogleMapsAPIWrapper,a.NgZone]),a.\u0275prd(4608,null,g.PolylineManager,g.PolylineManager,[c.GoogleMapsAPIWrapper,a.NgZone]),a.\u0275prd(4608,null,m.PolygonManager,m.PolygonManager,[c.GoogleMapsAPIWrapper,a.NgZone]),a.\u0275prd(4608,null,v.KmlLayerManager,v.KmlLayerManager,[c.GoogleMapsAPIWrapper,a.NgZone]),a.\u0275prd(4608,null,y.DataLayerManager,y.DataLayerManager,[c.GoogleMapsAPIWrapper,a.NgZone]),a.\u0275prd(512,null,c.GoogleMapsAPIWrapper,c.GoogleMapsAPIWrapper,[P.MapsAPILoader,a.NgZone]),a.\u0275did(770048,null,0,x.AgmMap,[a.ElementRef,c.GoogleMapsAPIWrapper],{longitude:[0,"longitude"],latitude:[1,"latitude"],draggableCursor:[2,"draggableCursor"]},{mapClick:"mapClick",centerChange:"centerChange",zoomChange:"zoomChange"}),(e()(),a.\u0275ted(0,["\n        "])),(e()(),a.\u0275eld(0,null,0,1,"trip-layer",[],null,null,null,w.View_TripLayer_0,w.RenderType_TripLayer)),a.\u0275did(114688,[[2,4],["tripLayer",4]],0,b.TripLayer,[c.GoogleMapsAPIWrapper,_.Http],null,null),(e()(),a.\u0275ted(0,["\n\n        "])),(e()(),a.\u0275and(16777216,null,0,1,null,l)),a.\u0275did(802816,null,0,M.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a.\u0275ted(0,["\n\n      "])),(e()(),a.\u0275ted(null,["\n      "])),(e()(),a.\u0275ted(null,["\n    "])),(e()(),a.\u0275ted(null,["\n    "])),(e()(),a.\u0275eld(0,null,null,7,"div",[["class","flex-auto relative"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n      "])),(e()(),a.\u0275eld(0,null,null,2,"days-view",[["class","abs-fill"]],null,[[null,"selectLocation"]],function(e,n,t){var l=!0,o=e.component;if("selectLocation"===n){l=!1!==o.selectLocation(t)&&l}return l},C.View_DaysView_0,C.RenderType_DaysView)),a.\u0275prd(512,null,T.DaysService,T.DaysService,[_.Http]),a.\u0275did(638976,[[1,4],["days",4]],0,O.DaysView,[T.DaysService],{tripId:[0,"tripId"]},{selectLocation:"selectLocation"}),(e()(),a.\u0275ted(null,["\n      "])),(e()(),a.\u0275eld(0,null,null,0,"div",[["class","white-shadow"]],null,null,null,null,null)),(e()(),a.\u0275ted(null,["\n    "])),(e()(),a.\u0275ted(null,["\n  "])),(e()(),a.\u0275ted(null,["\n"])),(e()(),a.\u0275ted(null,["\n"]))],function(e,n){var t=n.component;e(n,36,0,t.longitude,t.latitude,"auto"),e(n,39,0),e(n,42,0,t.markers),e(n,51,0,t.tripId)},function(e,n){var t=n.component;e(n,13,0,t.T("back")),e(n,16,0,t.T("schedule"));e(n,27,0,!0)})}function r(e){return a.\u0275vid(0,[(e()(),a.\u0275eld(0,null,null,1,"test-app",[],null,null,null,o,n.RenderType_TestApp)),a.\u0275did(49152,null,0,d.TestApp,[],null,null)],null,null)}Object.defineProperty(n,"__esModule",{value:!0});var i=t("uTZG"),a=t("/oeL"),s=t("57RD"),u=t("dY6p"),d=t("i+6n"),p=t("SDf9"),c=t("BfPg"),f=t("KdOF"),h=t("DCX4"),g=t("Ds4W"),m=t("9fk+"),v=t("mECe"),y=t("7PDj"),P=t("wW3n"),x=t("t+Rn"),w=t("o3eO"),b=t("VY9+"),_=t("CPp0"),M=t("qbdv"),C=t("rDkg"),T=t("yJCl"),O=t("xHFf"),D=[i.styles];n.RenderType_TestApp=a.\u0275crt({encapsulation:0,styles:D,data:{}}),n.View_TestApp_0=o,n.View_TestApp_Host_0=r,n.TestAppNgFactory=a.\u0275ccf("test-app",d.TestApp,r,{tripId:"tripId"},{},[])},DXDq:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("/oeL"),o=(t("OKwi"),t("hCN4")),r=t("fc+i");l.enableProdMode(),r.platformBrowser().bootstrapModuleFactory(o.AppModuleNgFactory)},"E+5d":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("x88H"),o=function(){function e(e){e&&(e.min&&(this.min=new l.Point(e.min)),e.max&&(this.max=new l.Point(e.max)))}return e.closestPoint=function(e,n){var t=new l.Point(0,0);for(var o in t)e[o]<n.min[o]?t[o]=n.min[o]:e[o]>n.max[o]?t[o]=n.max[o]:t[o]=e[o];return t},e.overlaps=function(e,n){return!(e.max.x<n.min.x||e.min.x>n.max.x||e.max.y<n.min.y||e.min.y>n.max.y)},e.contains=function(e,n){return n.x>=e.min.x&&n.x<=e.max.x&&n.y>=e.min.y&&n.y<=e.max.y},e.prototype.addPoint=function(e){this.min=void 0===this.min?e:l.Point.min(this.min,e),this.max=void 0===this.max?e:l.Point.max(this.max,e)},e.prototype.addArray=function(e){for(var n=0,t=e;n<t.length;n++){var l=t[n];this.addPoint(l)}},e.prototype.overlaps=function(n){return e.overlaps(this,n)},e.prototype.contains=function(n){return e.contains(this,n)},e}();n.BoundingBox=o},Nf9t:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(){}return e}();n.AppModule=l},Nh04:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("x88H"),o=function(){function e(n){if(this.properties={},n){if(n.controlPoints){this.controlPoints=[];for(var t=0;t<n.controlPoints.length;++t)this.controlPoints[t]=new l.Point(n.controlPoints[t])}n.originalEdge&&(this.originalEdge=new e(n.originalEdge));for(var o=0,r=["from","to","drawMiddlePoint","properties","fromDbId"];o<r.length;o++){var i=r[o];i in n&&(this[i]=n[i])}}}return e.prototype.propagateToOriginal=function(){if(this.originalEdge)for(var e=0,n=["controlPoints","drawMiddlePoint"];e<n.length;e++){var t=n[e];t in this&&(this.originalEdge[t]=this[t])}},e}();n.TripEdge=o},OKwi:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.environment={production:!1}},Rp1X:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("x88H"),o=t("E+5d"),r=function(){function e(e){var n=e||{};this.nodes=n.node||{},this.edges=n.edges||[]}return e.generateControlPoints=function(e,n,t,o){var r=l.Point.minus(t,n).mul(1/3),i=new l.Point(-r.y,r.x);return[l.Point.plus(l.Point.plus(n,r),i),l.Point.plus(l.Point.minus(t,r),i)]},e.bezierFromPoints=function(e){for(var n=[],t=0;t<4;++t)n.push(e[t].x),n.push(e[t].y);return new Bezier(n)},e.bezierThroughPoints=function(n){for(var t=[],o=1;o<n.length;++o){var r=1===o?n[o-1]:n[o-2],i=n[o-1],a=n[o],s=o===n.length-1?n[o]:n[o+1];t.push(e.bezierFromPoints([i,l.Point.plus(i,l.Point.times(.2,l.Point.minus(a,r))),l.Point.plus(a,l.Point.times(.2,l.Point.minus(i,s))),a]))}return t},e.placeLeaderLine=function(e){e.properties||(e.properties={});var n,t=e.properties.leaderLine||"bestAnchor",r=e.properties.labelBbox;if("center"===t){var i=(r.max.x,r.min.x,new l.Point((r.min.x+r.max.x)/2,(r.min.y+r.max.y)/2)),a=l.Point.minus(e.coord,i);a.mul(.02),n=l.Point.plus(i,a)}else n="closestOnBbox"===t?o.BoundingBox.closestPoint(e.coord,r):d3.labeler.closestLineAnchorPoint(e.coord,{left:r.min.x,right:r.max.x,top:r.min.y,bottom:r.max.y,cx:(r.min.x+r.max.x)/2,cy:(r.min.y+r.max.y)/2});e.properties.leaderLineAnchor=n},e.prototype.createDefaultBezier=function(){for(var n in this.edges){var t=this.edges[n],l=this.nodes[t.from],o=this.nodes[t.to];t.controlPoints=e.generateControlPoints(void 0,l.coord,o.coord,void 0)}},e.prototype.bezier=function(n){if(!n.controlPoints||n.properties.hidden)return[];if(2===n.controlPoints.length){var t=[this.nodes[n.from].coord,n.controlPoints[0],n.controlPoints[1],this.nodes[n.to].coord];return[e.bezierFromPoints(t)]}if(5===n.controlPoints.length){var l=[this.nodes[n.from].coord,n.controlPoints[0],n.controlPoints[1],n.controlPoints[2]],o=[n.controlPoints[2],n.controlPoints[3],n.controlPoints[4],this.nodes[n.to].coord];return[e.bezierFromPoints(l),e.bezierFromPoints(o)]}var r=[this.nodes[n.from].coord].concat(n.controlPoints,[this.nodes[n.to].coord]);return e.bezierThroughPoints(r)},e.prototype.bounds=function(){var e=new o.BoundingBox;for(var n in this.nodes)e.addPoint(this.nodes[n].coord);return e},e.prototype.frame=function(e,n){var t=this.bounds();if(n=n||1.1,t.max&&t.min){if(t.min.x===t.max.x){var r=new l.Point(1/32,1/32);t.addPoint(l.Point.plus(t.min,r)),t.addPoint(l.Point.minus(t.min,r))}}else t.min=new l.Point(0,0),t.max=new l.Point(1,1),n=1;e=e||(t.max.x-t.min.x)/(t.max.y-t.min.y);var i="number"==typeof n?new l.Point(n,n):n,a=l.Point.minus(t.max,t.min);a.x*=i.x,a.y*=i.y;var s,u=a.y*e;s=a.x>u?new l.Point(a.x,a.x/e):new l.Point(a.y*e,a.y),s.mul(.5);var d=l.Point.times(.5,l.Point.plus(t.max,t.min)),p=new o.BoundingBox;return p.addPoint(l.Point.minus(d,s)),p.addPoint(l.Point.plus(d,s)),p},e.prototype.location=function(e,n){var t=this.frame(e,n);t.max.x,t.min.x;return{x:(t.max.x+t.min.x)/2,y:(t.max.y+t.min.y)/2,scale:Math.max(1/32768,t.max.x-t.min.x)}},e}();n.TripGraph=r},"VY9+":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("CPp0"),o=t("bAF1"),r=t("cWpu"),i=function(){function e(e,n){this.gmap=e,this.http=n}return e.prototype.ngOnInit=function(){var e=this;this.overlay=new r.CanvasOverlay,this.gmap.getNativeMap().then(function(n){e.overlay.setMap(n)}),this.gmap.subscribeToMapEvent("center_changed").subscribe(function(){e.overlay.refresh()}),console.log("Fetching "+currentTripmapUrl),$.getJSON(currentTripmapUrl,function(n){e.overlay.setTrip(n)})},e.prototype.focusOnPoint=function(e){this.overlay.focusOnPoint(e)},e.prototype.setZoom=function(e){this.overlay.setZoom(e)},e.ctorParameters=function(){return[{type:o.GoogleMapsAPIWrapper},{type:l.Http}]},e}();n.TripLayer=i},agHN:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.styles=["div.progview[_ngcontent-%COMP%]{background-color:#eee;overflow:auto;height:100%}.progview[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px}.progview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;position:relative;left:0;background-color:#fff}.dayEntryUl[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child   header[_ngcontent-%COMP%]{border-top:0;padding-top:0}.progview[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover{background-color:#72b866}li[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{color:#fff;padding:6px 12px;font-size:14px;border-radius:12px;margin:3px 3px 9px;cursor:pointer;font-weight:700}.locations[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{display:inline-block}header[_ngcontent-%COMP%]{position:relative;padding-top:40px}.date[_ngcontent-%COMP%]{float:right}.date[_ngcontent-%COMP%], .day[_ngcontent-%COMP%]{font-size:18px}.day[_ngcontent-%COMP%]{border-bottom:1px solid}.dayTitle[_ngcontent-%COMP%]{font-size:18px;font-weight:800;margin:10px 0 10px 0}.daySubTitle[_ngcontent-%COMP%]{font-size:18px;font-weight:300;padding:0 0 10px;color:#949494}.eventDescription[_ngcontent-%COMP%], .eventIndication[_ngcontent-%COMP%], .eventTitle[_ngcontent-%COMP%]{font-size:16px}.eventIndication[_ngcontent-%COMP%], .eventTitle[_ngcontent-%COMP%]{font-weight:600}.eventSubTitle[_ngcontent-%COMP%]{padding-bottom:5px;font-weight:300;color:#949494}.eventDescription[_ngcontent-%COMP%]{margin-top:10px}ul[_ngcontent-%COMP%]   .locations[_ngcontent-%COMP%]{padding:0}.thumbnail-schedule[_ngcontent-%COMP%]{padding:0 10px 10px 0}"]},cHmR:function(e,n){function t(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id="cHmR"},cWpu:function(e,n,t){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function l(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t("x88H"),r=t("v0bJ"),i=t("Rp1X"),a=t("owx+"),s=t("dggI"),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.refreshTimeout=void 0,n}return l(n,e),n.prototype.onAdd=function(){var e=this;this.canvas||(this.canvas=document.createElement("canvas"));var n=this.canvas;n.style.border="none",n.style.borderWidth="0px",n.style.position="absolute",n.style.top="0 px",n.style.left="0 px",n.style.bottom="0 px",n.style.right="0 px",this.canvas=n,this.getPanes().mapPane.appendChild(this.canvas),this.redrawInterval=setInterval(function(){e.refresh()},4e3)},n.prototype.setTrip=function(e){this.canvas||(this.canvas=document.createElement("canvas"));var n=new r.SeqTrip;try{n.load(e)}catch(e){return console.log(e),void console.log(e.stack)}this.trip=n,this.initialLocation=this.trip.location();this.renderer=new s.T.CanvasTilesRenderer({canvas:this.canvas,noInteraction:!0,clearBorder:!1});this.graph=new i.TripGraph;var t=(this.tripLayer=new a.TripGraphLayer({renderer:this.renderer,graph:this.graph}),this.canvas);this.renderer.layers=[{draw:function(){t.getContext("2d").clearRect(0,0,t.width,t.height)}}],this.renderer.addLayer(this.tripLayer),this.focusOnPoint(),this.draw()},n.prototype.draw=function(){var e=this;if(this.renderer){var n=this.getProjection(),t=this.getMap().getBounds();if(t){var l=t.getSouthWest(),o=t.getNorthEast(),r=n.fromLatLngToDivPixel(l),i=n.fromLatLngToDivPixel(o),a=this.canvas;a.style.left=r.x+"px",a.style.top=i.y+"px";var s=i.x-r.x,u=r.y-i.y;a.width=s*this.renderer.pixelRatio,a.height=u*this.renderer.pixelRatio,a.style.width=s+"px",a.style.height=u+"px";var d=Utils.latLonToWorld([l.lng(),l.lat()]),p=Utils.latLonToWorld([o.lng(),o.lat()]),c=t.getCenter(),f=(Utils.latLonToWorld([c.lng(),c.lat()]),Utils.worldToLatLon({x:0,y:0})),h=n.fromLatLngToDivPixel({lat:function(){return f.lat},lng:function(){return f.lon}}),g={x:h.x-r.x,y:h.y-i.y};g.x>=0&&g.x<s?d.x=0:g.x=0,g.y>=0&&g.y<u?p.y=0:g.y=0;var m=[{viewer:{x:g.x*this.renderer.pixelRatio,y:a.height},world:d},{viewer:{x:a.width,y:g.y*this.renderer.pixelRatio},world:p}],v=this.renderer.pinchZoom;v.ignoreLimits=!0,v.processConstraints(m);a.getContext("2d");this.tripLayer.graph=this.graph=this.trip.makeGraph(this.tripLayer),this.tripLayer.loadIcons(function(n){n&&console.log(n),e.renderer.refreshIfNotMoving()}),this.renderer.refresh()}}},n.prototype.onRemove=function(){clearInterval(this.redrawInterval),this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=void 0)},n.prototype.refresh=function(){var e=this;this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(function(){e.draw()},100)},n.prototype.bounds=function(){var e=this.graph.bounds(),n=Utils.worldToLatLon(e.min),t=Utils.worldToLatLon(e.max);return{north:n.lat,south:t.lat,east:t.lon,west:n.lon}},n.prototype.focusOnPoint=function(e){var n=this.initialLocation,t=this.trip.width_mm()/this.trip.height_mm(),l=e?Utils.latLonToWorld([e.lng,e.lat]):n,r=n.scale*(e?.25:.5),i=r/t,a=Utils.worldToLatLon(new o.Point(l.x-r,l.y-i)),s=Utils.worldToLatLon(new o.Point(l.x+r,l.y+i)),u={north:a.lat,south:s.lat,east:s.lon,west:a.lon};this.getMap().fitBounds(u)},n.prototype.setZoom=function(e){this.getMap().setZoom(e)},n}(google.maps.OverlayView);n.CanvasOverlay=u},dggI:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.T={CanvasTilesRenderer:CanvasTilesRenderer,PinchZoom:PinchZoom,Utils:Utils}},hCN4:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("/oeL"),o=t("Nf9t"),r=t("i+6n"),i=t("0j86"),a=t("qbdv"),s=t("fc+i"),u=t("CPp0"),d=t("niyx"),p=t("wW3n"),c=t("/Pdz"),f=t("yJCl"),h=t("q+Vp");n.AppModuleNgFactory=l.\u0275cmf(o.AppModule,[r.TestApp],function(e){return l.\u0275mod([l.\u0275mpd(512,l.ComponentFactoryResolver,l.\u0275CodegenComponentFactoryResolver,[[8,[i.TestAppNgFactory]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l.\u0275mpd(5120,l.LOCALE_ID,l.\u0275m,[[3,l.LOCALE_ID]]),l.\u0275mpd(4608,a.NgLocalization,a.NgLocaleLocalization,[l.LOCALE_ID]),l.\u0275mpd(4608,l.Compiler,l.Compiler,[]),l.\u0275mpd(5120,l.APP_ID,l.\u0275f,[]),l.\u0275mpd(5120,l.IterableDiffers,l.\u0275k,[]),l.\u0275mpd(5120,l.KeyValueDiffers,l.\u0275l,[]),l.\u0275mpd(4608,s.DomSanitizer,s.\u0275e,[a.DOCUMENT]),l.\u0275mpd(6144,l.Sanitizer,null,[s.DomSanitizer]),l.\u0275mpd(4608,s.HAMMER_GESTURE_CONFIG,s.HammerGestureConfig,[]),l.\u0275mpd(5120,s.EVENT_MANAGER_PLUGINS,function(e,n,t,l){return[new s.\u0275DomEventsPlugin(e),new s.\u0275KeyEventsPlugin(n),new s.\u0275HammerGesturesPlugin(t,l)]},[a.DOCUMENT,a.DOCUMENT,a.DOCUMENT,s.HAMMER_GESTURE_CONFIG]),l.\u0275mpd(4608,s.EventManager,s.EventManager,[s.EVENT_MANAGER_PLUGINS,l.NgZone]),l.\u0275mpd(135680,s.\u0275DomSharedStylesHost,s.\u0275DomSharedStylesHost,[a.DOCUMENT]),l.\u0275mpd(4608,s.\u0275DomRendererFactory2,s.\u0275DomRendererFactory2,[s.EventManager,s.\u0275DomSharedStylesHost]),l.\u0275mpd(6144,l.RendererFactory2,null,[s.\u0275DomRendererFactory2]),l.\u0275mpd(6144,s.\u0275SharedStylesHost,null,[s.\u0275DomSharedStylesHost]),l.\u0275mpd(4608,l.Testability,l.Testability,[l.NgZone]),l.\u0275mpd(4608,s.Meta,s.Meta,[a.DOCUMENT]),l.\u0275mpd(4608,s.Title,s.Title,[a.DOCUMENT]),l.\u0275mpd(4608,u.BrowserXhr,u.BrowserXhr,[]),l.\u0275mpd(4608,u.ResponseOptions,u.BaseResponseOptions,[]),l.\u0275mpd(5120,u.XSRFStrategy,u.\u0275b,[]),l.\u0275mpd(4608,u.XHRBackend,u.XHRBackend,[u.BrowserXhr,u.ResponseOptions,u.XSRFStrategy]),l.\u0275mpd(4608,u.RequestOptions,u.BaseRequestOptions,[]),l.\u0275mpd(5120,u.Http,u.\u0275c,[u.XHRBackend,u.RequestOptions]),l.\u0275mpd(4608,d.WindowRef,d.WindowRef,[]),l.\u0275mpd(4608,d.DocumentRef,d.DocumentRef,[]),l.\u0275mpd(4608,p.MapsAPILoader,c.NoOpMapsAPILoader,[]),l.\u0275mpd(4608,f.DaysService,f.DaysService,[u.Http]),l.\u0275mpd(512,a.CommonModule,a.CommonModule,[]),l.\u0275mpd(1024,l.ErrorHandler,s.\u0275a,[]),l.\u0275mpd(1024,l.APP_INITIALIZER,function(e,n){return[s.\u0275c(e,n)]},[[2,s.NgProbeToken],[2,l.NgProbeToken]]),l.\u0275mpd(512,l.ApplicationInitStatus,l.ApplicationInitStatus,[[2,l.APP_INITIALIZER]]),l.\u0275mpd(131584,l.\u0275e,l.\u0275e,[l.NgZone,l.\u0275Console,l.Injector,l.ErrorHandler,l.ComponentFactoryResolver,l.ApplicationInitStatus]),l.\u0275mpd(2048,l.ApplicationRef,null,[l.\u0275e]),l.\u0275mpd(512,l.ApplicationModule,l.ApplicationModule,[l.ApplicationRef]),l.\u0275mpd(512,s.BrowserModule,s.BrowserModule,[[3,s.BrowserModule]]),l.\u0275mpd(512,u.HttpModule,u.HttpModule,[]),l.\u0275mpd(512,h.AgmCoreModule,h.AgmCoreModule,[]),l.\u0275mpd(512,o.AppModule,o.AppModule,[])])})},"i+6n":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(){this.location="",this.markers=[],this.tripId=currentTripId,this.translations=translations,console.log("TRIP ID: "+this.tripId)}return e.prototype.selectLocation=function(e){this.location=e.name,this.latitude=e.latitude,this.longitude=e.longitude;var n={lat:this.latitude,lng:this.longitude};this.markers=[n],this.tripLayer&&this.tripLayer.focusOnPoint(n)},e.prototype.centerChanged=function(e){this.latitude=e.lat,this.longitude=e.lng},e.prototype.zoomChanged=function(e){this.zoom=e,e<2&&this.tripLayer.setZoom(2)},e.prototype.mapClicked=function(e){this.days&&(this.days.scrollTo(e.coords),this.markers=[])},e.prototype.fullMap=function(){this.tripLayer.focusOnPoint(),this.markers=[]},e.prototype.T=function(e){for(var n=e.split("."),t=translations;n.length>0;){var l=n[0];if(!t[l])return console.log("Missing translation: "+e),e;t=t[l],n=n.slice(1)}return"object"==typeof t?(console.log("invalid translation key: "+e),e):t},e.ctorParameters=function(){return[]},e}();n.TestApp=l},o3eO:function(e,n,t){"use strict";function l(e){return r.\u0275vid(0,[(e()(),r.\u0275eld(0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function o(e){return r.\u0275vid(0,[(e()(),r.\u0275eld(0,null,null,1,"trip-layer",[],null,null,null,l,n.RenderType_TripLayer)),r.\u0275did(114688,null,0,i.TripLayer,[a.GoogleMapsAPIWrapper,s.Http],null,null)],function(e,n){e(n,1,0)},null)}Object.defineProperty(n,"__esModule",{value:!0});var r=t("/oeL"),i=t("VY9+"),a=t("BfPg"),s=t("CPp0"),u=[];n.RenderType_TripLayer=r.\u0275crt({encapsulation:2,styles:u,data:{}}),n.View_TripLayer_0=l,n.View_TripLayer_Host_0=o,n.TripLayerNgFactory=r.\u0275ccf("trip-layer",i.TripLayer,o,{},{},[])},"owx+":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("Rp1X"),o=t("E+5d"),r=t("x88H"),i=function(){function e(e){if(this.params=e,this.renderer=e.renderer,this.defaultRadius=e.defaultRadius||6,this.icons={},this.defaultTextProp={fontSize:e.defaultFontSize||20,stroke:"rgba(255,255,255,.8)",fill:"#000000"},this.defaultEdgeProp={lineWidth:1,lineColor:"#000000"},!this.renderer)throw new Error("TripGraphLayer: no renderer !");this.graph=e.graph||new l.TripGraph}return e.prototype.draw=function(e,n,t,l){for(var o=this.graph,r=e.getContext("2d"),i=this.renderer.pixelRatio,a=0,s=o.edges;a<s.length;a++){var u=s[a];this.drawEdge(r,n,u,i)}r.setLineDash([]);for(var d in o.nodes){var p=o.nodes[d];p.viewerPos=n.viewerPosFromWorldPos(p.coord)}for(var d in o.nodes){var p=o.nodes[d];this.drawNodePoint(r,n,p)}for(var d in o.nodes)if(d.match(/-(takeoff)|(landing)$/)){var p=o.nodes[d];this.drawLeaderLine(r,n,p)}for(var d in o.nodes)if(d.match(/-(takeoff)|(landing)$/)){var p=o.nodes[d];this.drawNodeLabel(r,n,p)}},e.prototype.drawEdge=function(e,n,t,l){this.setEdgeStrokeStyle(e,t);for(var o=this.graph.bezier(t),r=0,i=o;r<i.length;r++){var a=i[r];this.drawBezier(e,n,a,l,t)}if(o.length>1&&t.drawMiddlePoint)for(var s in o){var u=n.viewerPosFromWorldPos(o[s].points[3]),d=5*l;e.beginPath(),e.arc(u.x,u.y,d,0,2*Math.PI,!1),e.fillStyle="#000000",e.fill()}},e.prototype.drawBezier=function(e,n,t,l,o){e.save();for(var i=new Array(8),a=t.points,s=0;s<4;++s){var u=n.viewerPosFromWorldPos(a[s]);i[2*s]=u.x,i[2*s+1]=u.y}var d=new Bezier(i),p=d.length(),c=Math.min(2,Math.floor(p/(40*l))),f=d.points;e.beginPath(),e.moveTo(f[0].x,f[0].y),e.bezierCurveTo(f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y),e.stroke();for(var h=1;h<c;++h){var g=h/c,u=new r.Point(d.get(g)),m=new r.Point(d.normal(g)),v=new r.Point(d.derivative(g));this.drawEdgeMark(u,m,v,e,l,o)}e.restore()},e.prototype.drawEdgeMark=function(n,t,l,o,r,i){switch(this.edgeProperty(i,"travelMean")){case"Bike":case"Boat":case"Bus":case"Car":case"Helicopter":case"Plane":case"Train":case"Walk":this.drawEdgeMarkIcon(n,t,l,o,r,i);break;case"Unspecified":default:e.drawEdgeMarkTriangle(n,t,l,o,r)}},e.drawEdgeMarkTriangle=function(e,n,t,l,o){var i=10*o;t.mul(i/t.norm()),e=r.Point.plus(e,r.Point.times(.5,t));var a=r.Point.minus(e,t);l.beginPath(),l.moveTo(a.x+i/2*n.x,a.y+i/2*n.y),l.lineTo(e.x,e.y),l.lineTo(a.x-i/2*n.x,a.y-i/2*n.y),l.closePath(),l.fill()},e.prototype.drawEdgeMarkIcon=function(e,n,t,l,o,i){l.fillStyle="#fff",l.setLineDash([]),l.lineWidth=1*o;var a=10*o,s=6*o;t=t.mul(1/t.norm());var u=r.Point.plus(e,r.Point.times((a+s)/2,t)),d=r.Point.minus(e,r.Point.times((a+s)/2,t)),p=r.Point.plus(d,r.Point.times(a,t)),c=new r.Point(-t.y,t.x).mul(4*o),f=r.Point.plus(p,c),h=r.Point.minus(p,c),g=r.Point.minus(f,d),m=Math.atan2(g.y,g.x),v=r.Point.minus(h,d),y=Math.atan2(v.y,v.x);l.beginPath(),l.arc(d.x,d.y,a,m,y),l.lineTo(u.x,u.y),l.closePath(),l.fill(),l.stroke(),l.fillStyle="#000",l.textAlign="center",l.textBaseline="middle",l.font="10px FontAwesome";var P={Bike:"\uf206",Boat:"\uf21a",Bus:"\uf207",Car:"\uf1b9",Helicopter:"H",Plane:"\uf072",Train:"\uf238",Walk:"\uf183"},x=this.edgeProperty(i,"travelMean");l.fillText(P[x],d.x,d.y)},e.prototype.edgeProperty=function(e,n){return e.properties[n]||this.defaultEdgeProp[n]},e.prototype.setEdgeStrokeStyle=function(e,n){var t=this.edgeProperty(n,"lineColor");e.strokeStyle=t,e.fillStyle=t,e.lineWidth=4*this.renderer.pixelRatio*this.edgeProperty(n,"lineWidth"),this.setDashStyle(e,this.edgeProperty(n,"dashed"))},e.prototype.nodeRadius=function(e){var n=this.defaultRadius;return e.properties&&e.properties.radius&&(n=e.properties.radius),n*this.renderer.pixelRatio},e.prototype.drawNodePoint=function(e,n,t){if(!t.properties||0!=t.properties.point){var l=t.viewerPos;this.drawPoint(e,l,this.renderer.pixelRatio,t.properties||{})}},e.prototype.drawNodeLabel=function(n,t,l){if(l.label||l.labelIcon){var o=t.viewerPosFromWorldPos(l.properties&&l.properties.labelCoord?l.properties.labelCoord:l.coord);if(l.label&&e.drawText(n,l.label,o,this.renderer.pixelRatio,l.properties||{},this.defaultTextProp),l.labelIcon&&l.labelIcon.url in this.icons){if(void 0!=l.labelIcon.autorotate&&l.properties.labelCoord){var i=new r.Point(l.coord);l.labelIcon.angle=l.labelIcon.autorotate+Math.atan2(i.y-l.properties.labelCoord.y,i.x-l.properties.labelCoord.x)}e.drawIcon(n,this.icons[l.labelIcon.url],l.labelIcon,o,this.renderer.pixelRatio)}if(l.properties&&l.properties.frame&&l.label){var a=e.measureText(n,l.label,this.renderer.pixelRatio,l.properties||{},this.defaultTextProp);n.strokeStyle=l.properties.frame,a.width+=3*this.renderer.pixelRatio,a.height+=3*this.renderer.pixelRatio,n.rect(o.x-a.width/2,o.y-a.height/2,a.width,a.height),n.stroke()}}},e.prototype.setDashStyle=function(e,n){var t=[];if(n)for(var l=0,o=n;l<o.length;l++){var r=o[l];t.push(this.renderer.pixelRatio*r)}e.setLineDash(t)},e.prototype.drawLeaderLine=function(e,n,t){if(t.properties&&t.properties.leaderLineAnchor){var l=this.renderer.pixelRatio,i=n.viewerPosFromWorldPos(t.properties.leaderLineAnchor);e.lineWidth=(t.properties.leaderLineWidth||1)*l,e.beginPath();var a=n.viewerPosFromWorldPos(t.coord),s=this.nodeRadius(t),u=n.viewerPosFromWorldPos(o.BoundingBox.closestPoint(new r.Point(t.coord),t.properties.labelBbox));r.Point.dist(u,a)>3*s&&(t.properties.dashed&&this.setDashStyle(e,t.properties.dashed),e.moveTo(i.x,i.y),e.lineTo(a.x,a.y),e.strokeStyle=t.properties.leaderLineColor||"#000000",e.stroke(),t.properties.dashed&&e.setLineDash([]))}},e.prototype.drawPoint=function(e,n,t,l){e.strokeStyle="rgba(0,0,0,1)",e.fillStyle="rgba(255,255,255,1)",e.lineWidth=2*t,e.beginPath();var o=(l.radius||this.defaultRadius)*t;e.arc(n.x,n.y,o,0,2*Math.PI,!1),e.stroke(),e.fill();var r=l.markStyle;!r&&l.firstVisited&&(r="first"),"first"===r&&(e.fillStyle="rgba(0, 0, 0, 1)",e.beginPath(),e.arc(n.x,n.y,.6*o,0,2*Math.PI,!1),e.fill())},e.measureText=function(n,t,l,o,r){var i=t.split("\n"),a=e.setTextStyle(n,l,o,r),s={width:0,height:a*i.length};for(var u in i)s.width=Math.max(s.width,n.measureText(i[u]).width);return s},e.setTextStyle=function(e,n,t,l){t=t||{};var o=t.fontSize||l.fontSize;return o*=n,e.font=o+"px "+(t.font||"'PT Sans', sans-serif"),e.strokeStyle=t.stroke||l.stroke,e.lineWidth=(t.haloWidth||4)*n,e.fillStyle=t.fill||l.fill,parseInt(""+o)},e.drawText=function(n,t,l,o,r,i){var a,s,u=(void 0!=r.textOffset?r.textOffset:20)*o,d=((r.textPlacement||"S")+"").toUpperCase();switch(d){default:case"C":case"N":case"S":n.textAlign="center",a=0;break;case"E":case"NE":n.textAlign="start",a=u;break;case"O":case"W":n.textAlign="end",a=-u}switch(d){case"C":case"E":case"W":case"O":n.textBaseline="middle",s=0;break;case"N":case"NE":n.textBaseline="bottom",s=-u;break;default:case"S":n.textBaseline="top",s=u}var p=l.x+a,c=l.y+s,f=e.setTextStyle(n,o,r,i),h=t.split("\n");n.shadowBlur=3*o,n.shadowColor="#ffffff",n.lineWidth=2*o;for(var g=(h.length-1)/2,m=0;m<h.length;++m){var v=c+(m-g)*f;n.strokeText(h[m],p,v),n.fillText(h[m],p,v)}n.shadowColor="transparent"},e.drawIcon=function(e,n,t,l,o){if(n){var r=t.width?t.width*o:16*o,i=t.height?t.height*o:r,a="ratioX"in t?t.ratioX:.5,s="ratioY"in t?t.ratioY:.5,u=r*a,d=i*s;t.angle?(e.save(),e.translate(l.x,l.y),e.rotate(t.angle),e.drawImage(n,-u,-d,r,i),e.restore()):e.drawImage(n,l.x-u,l.y-d,r,i)}},e.prototype.getLabelIconSize=function(e,n){var t=this.renderer.pixelRatio,l=n.labelIcon;return{width:(l.width||16)*t,height:(l.height||l.width||16)*t}},e.prototype.placeLabels=function(n){var t=this.renderer.pinchZoom,i=this.renderer.pixelRatio,a=[],s=[];for(var u in this.graph.nodes){var d=this.graph.nodes[u];if(d.label||d.labelIcon){var p=t.viewerPosFromWorldPos(d.coord),c=this.defaultRadius;d.properties&&d.properties.radius&&(c=d.properties.radius),s.push({x:p.x,y:p.y,r:c*i});var f=2*i,h=void 0,g=void 0;d.label?(h=e.measureText(n,d.label,i,d.properties,this.defaultTextProp),g=d.label):d.labelIcon&&(h=this.getLabelIconSize(n,d),g="icon:"+d.labelIcon.url),a.push({x:p.x,y:p.y,name:g,width:h.width+2*f,height:h.height+2*f,node:d})}}var m=d3.labeler().label(a).anchor(s).width(this.renderer.canvas.width).height(this.renderer.canvas.height),v=m.alt_energy(),y=[],P=[],x=[];for(var w in this.graph.edges){var b=this.graph.bezier(this.graph.edges[w]);for(var u in b){var _=b[u];y.push(_);var M=_.bbox();P.push({min:t.viewerPosFromWorldPos(M.x.min,M.y.min),max:t.viewerPosFromWorldPos(M.x.max,M.y.max)});var C=_.getLUT(30),T=[];for(var O in C)T.push(t.viewerPosFromWorldPos(C[O]));x.push(T)}}m.alt_energy(function(e,n,t){var l=0,i=m.boxOfLabel(e),a=new o.BoundingBox;a.addPoint(new r.Point(i.left,i.top)),a.addPoint(new r.Point(i.right,i.bottom));for(var s in y)if(o.BoundingBox.overlaps(P[s],a)){var u=x[s];for(var d in u)a.contains(u[d])&&l++}return 10*l+v(e)});m.start(5e3,1);for(var u in a){var D=a[u];D.node.properties||(D.node.properties={});var I=D.node.properties,L=r.Point.times(.5,new r.Point(D.width,D.height));I.labelCoord=t.worldPosFromViewerPos(D),I.labelBbox={min:t.worldPosFromViewerPos(r.Point.minus(D,L)),max:t.worldPosFromViewerPos(r.Point.plus(D,L))},l.TripGraph.placeLeaderLine(D.node),I.textPlacement="C",I.textOffset=0}},e.shallowCopy=function(e){var n,t=Object.create(Object.getPrototypeOf(e)),l=Object.getOwnPropertyNames(e);for(n=0;n<l.length;n++)Object.defineProperty(t,l[n],Object.getOwnPropertyDescriptor(e,l[n]));return t},e.prototype.makeFusedGraph=function(n){n=n||this.graph;var t={},o=function(e){for(var n=e;n in t;)n=t[n];return n},i=this.renderer.pinchZoom;for(var a in n.nodes){var s=n.nodes[a];s.viewerPos=i.viewerPosFromWorldPos(s.coord)}var u=[];for(var d in n.nodes){var s=n.nodes[d];if(s.label){var p=this.nodeRadius(s),c=!0;for(var a in u){var f=u[a];if(r.Point.dist(f.viewerPos,s.viewerPos)<this.nodeRadius(f)+p){u[a]=function(n,l){var o=e.shallowCopy(n);return o.name=n.name+","+l.name,o.label=n.label+"\n"+l.label,t[n.name]=t[l.name]=o.name,o}(f,s),c=!1;break}}c&&u.push(s)}}for(var d in n.nodes){var s=n.nodes[d];s.label||u.push(s)}var h=new l.TripGraph;for(var a in u){var f=u[a];h.nodes[f.name]=f}for(var a in n.edges){var g=n.edges[a],m=o(g.from),v=o(g.to);if(m!=v){var y=e.shallowCopy(g);y.from=m,y.to=v,y.originalEdge=g,h.edges.push(y)}}return h},e.prototype.forEachNode=function(e){for(var n in this.graph.nodes)e(this.graph.nodes[n])},e.prototype.loadIcons=function(e){var n=this;this.iconsToLoad=1,this.failedIcons=0;var t=function(){n.iconsToLoad--,e&&0===n.iconsToLoad&&(n.failedIcons>0?e(new Error(n.failedIcons+" icons failed to load.")):e())};this.forEachNode(function(e){if(e.labelIcon){var l=e.labelIcon.url;if(l in n.icons)return;n.iconsToLoad++,n.renderer.loadImage(e.labelIcon.url,function(e){n.icons[l]=e,t()},function(e){console.log("Failed to load: "+l),n.failedIcons++,t()})}}),t()},e}();n.TripGraphLayer=i},rDkg:function(e,n,t){"use strict";function l(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),P.\u0275ted(null,["",""]))],null,function(e,n){e(n,1,0,n.component.days.title)})}function o(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,1,"div",[["class","daySubTitle"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["",""]))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.subtitle)})}function r(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,1,"li",[["class","clickable schedule_location_button_color"]],null,[[null,"click"]],function(e,n,t){var l=!0,o=e.component;if("click"===n){l=!1!==o.fireSelectLocation(e.context.$implicit)&&l}return l},null,null)),(e()(),P.\u0275ted(null,["",""]))],null,function(e,n){e(n,1,0,n.context.$implicit.name)})}function i(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(e,n){e(n,0,0,n.parent.context.$implicit.description)})}function a(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,2,"span",[["class","eventIndication"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["",""])),(e()(),P.\u0275eld(0,null,null,0,"br",[],null,null,null,null,null))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.indication)})}function s(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,3,"span",[["class","eventIndication"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["",""])),P.\u0275ppd(2),(e()(),P.\u0275eld(0,null,null,0,"br",[],null,null,null,null,null))],null,function(e,n){e(n,1,0,P.\u0275unv(n,1,0,e(n,2,0,P.\u0275nov(n.parent.parent.parent.parent,2),n.parent.context.$implicit.time,"hh:mm")))})}function u(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,2,"span",[["class","eventTitle"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["",""])),(e()(),P.\u0275eld(0,null,null,0,"br",[],null,null,null,null,null))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.title)})}function d(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,2,"span",[["class","eventSubTitle"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["",""])),(e()(),P.\u0275eld(0,null,null,0,"br",[],null,null,null,null,null))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.subtitle)})}function p(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,3,"a",[["data-gallery","gallery1"],["data-toggle","lightbox"]],[[8,"href",4]],null,null,null,null)),(e()(),P.\u0275ted(null,["\n                "])),(e()(),P.\u0275eld(0,null,null,0,"img",[["class","thumbnail-schedule"]],[[8,"src",4]],null,null,null,null)),(e()(),P.\u0275ted(null,["\n              "]))],null,function(e,n){e(n,0,0,P.\u0275inlineInterpolate(1,"",n.context.$implicit.thumb_url,"")),e(n,2,0,P.\u0275inlineInterpolate(1,"",n.context.$implicit.thumb_url,""))})}function c(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,21,"li",[["style","margin: 20px 0px; border-bottom: 1px solid #efefef;"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n            "])),(e()(),P.\u0275and(16777216,null,null,1,null,a)),P.\u0275did(16384,null,0,x.NgIf,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),P.\u0275ted(null,["\n            "])),(e()(),P.\u0275and(16777216,null,null,1,null,s)),P.\u0275did(16384,null,0,x.NgIf,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),P.\u0275ted(null,["\n            "])),(e()(),P.\u0275and(16777216,null,null,1,null,u)),P.\u0275did(16384,null,0,x.NgIf,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),P.\u0275ted(null,["\n            "])),(e()(),P.\u0275and(16777216,null,null,1,null,d)),P.\u0275did(16384,null,0,x.NgIf,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),P.\u0275ted(null,["\n            "])),(e()(),P.\u0275eld(0,null,null,0,"div",[["class","eventDescription"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),P.\u0275ted(null,["\n\n            "])),(e()(),P.\u0275eld(0,null,null,4,"div",[["class","slick-carousel"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n              "])),(e()(),P.\u0275and(16777216,null,null,1,null,p)),P.\u0275did(802816,null,0,x.NgForOf,[P.ViewContainerRef,P.TemplateRef,P.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),P.\u0275ted(null,["\n            "])),(e()(),P.\u0275ted(null,["\n          "]))],function(e,n){e(n,3,0,n.context.$implicit.indication),e(n,6,0,n.context.$implicit.time),e(n,9,0,n.context.$implicit.title),e(n,12,0,n.context.$implicit.subtitle),e(n,19,0,n.context.$implicit.pictures)},function(e,n){e(n,14,0,n.context.$implicit.description)})}function f(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,3,"a",[["data-gallery","gallery2"],["data-toggle","lightbox"]],[[8,"href",4]],null,null,null,null)),(e()(),P.\u0275ted(null,["\n            "])),(e()(),P.\u0275eld(0,null,null,0,"img",[["class","thumbnail-schedule img-fluid"]],[[8,"src",4]],null,null,null,null)),(e()(),P.\u0275ted(null,["\n          "]))],null,function(e,n){e(n,0,0,P.\u0275inlineInterpolate(1,"",n.context.$implicit.thumb_url,"")),e(n,2,0,P.\u0275inlineInterpolate(1,"",n.context.$implicit.thumb_url,""))})}function h(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,40,"li",[["style","padding:5px 20px;margin:0px;"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n        "])),(e()(),P.\u0275eld(0,null,null,16,"header",[],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n          "])),(e()(),P.\u0275eld(0,null,null,7,"div",[["class","day schedule_day_title_color separatorColor"],["style","width: 100%"]],null,null,null,null,null)),(e()(),P.\u0275eld(0,null,null,4,"strong",[],null,null,null,null,null)),(e()(),P.\u0275ted(null,["",""])),P.\u0275ppd(2),P.\u0275ppd(1),P.\u0275ppd(1),(e()(),P.\u0275ted(null,[", ",""])),P.\u0275ppd(2),(e()(),P.\u0275ted(null,["\n          "])),(e()(),P.\u0275eld(0,null,null,1,"div",[["class","dayTitle"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["",""])),(e()(),P.\u0275ted(null,["\n          "])),(e()(),P.\u0275and(16777216,null,null,1,null,o)),P.\u0275did(16384,null,0,x.NgIf,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),P.\u0275ted(null,["\n        "])),(e()(),P.\u0275ted(null,["\n\n        "])),(e()(),P.\u0275eld(0,null,null,4,"ul",[["class","locations"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n          "])),(e()(),P.\u0275and(16777216,null,null,1,null,r)),P.\u0275did(802816,null,0,x.NgForOf,[P.ViewContainerRef,P.TemplateRef,P.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),P.\u0275ted(null,["\n        "])),(e()(),P.\u0275ted(null,["\n\n        "])),(e()(),P.\u0275and(16777216,null,null,1,null,i)),P.\u0275did(16384,null,0,x.NgIf,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),P.\u0275ted(null,["\n\n        "])),(e()(),P.\u0275eld(0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n          "])),(e()(),P.\u0275and(16777216,null,null,1,null,c)),P.\u0275did(802816,null,0,x.NgForOf,[P.ViewContainerRef,P.TemplateRef,P.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),P.\u0275ted(null,["\n        "])),(e()(),P.\u0275ted(null,["\n        "])),(e()(),P.\u0275eld(0,null,null,4,"div",[["class","slick-carousel"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n          "])),(e()(),P.\u0275and(16777216,null,null,1,null,f)),P.\u0275did(802816,null,0,x.NgForOf,[P.ViewContainerRef,P.TemplateRef,P.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),P.\u0275ted(null,["\n        "])),(e()(),P.\u0275ted(null,["\n      "]))],function(e,n){var t=n.component;e(n,17,0,n.context.$implicit.subtitle),e(n,23,0,t.locationsForDay(n.context.$implicit)),e(n,27,0,n.context.$implicit.description),e(n,32,0,n.context.$implicit.events),e(n,38,0,n.context.$implicit.pictures)},function(e,n){var t=n.component;e(n,6,0,P.\u0275unv(n,6,0,e(n,9,0,P.\u0275nov(n.parent.parent,0),t.T(P.\u0275unv(n,6,0,e(n,8,0,P.\u0275nov(n.parent.parent,1),P.\u0275unv(n,6,0,e(n,7,0,P.\u0275nov(n.parent.parent,2),n.context.$implicit.date,"EEEE")))))))),e(n,10,0,P.\u0275unv(n,10,0,e(n,11,0,P.\u0275nov(n.parent.parent,2),n.context.$implicit.date,"dd.MM.yy"))),e(n,14,0,n.context.$implicit.title)})}function g(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,10,"div",[],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n    "])),(e()(),P.\u0275and(16777216,null,null,1,null,l)),P.\u0275did(16384,null,0,x.NgIf,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),P.\u0275ted(null,["\n    "])),(e()(),P.\u0275eld(0,[[1,0],["dayEntryUl",1]],null,4,"ul",[["class","dayEntryUl"],["style","padding:5px;margin:5px;margin-top:10px;"]],null,null,null,null,null)),(e()(),P.\u0275ted(null,["\n      "])),(e()(),P.\u0275and(16777216,null,null,1,null,h)),P.\u0275did(802816,null,0,x.NgForOf,[P.ViewContainerRef,P.TemplateRef,P.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),P.\u0275ted(null,["\n    "])),(e()(),P.\u0275ted(null,["\n  "]))],function(e,n){var t=n.component;e(n,3,0,t.days.title),e(n,8,0,t.days.days)},null)}function m(e){return P.\u0275vid(0,[P.\u0275pid(0,x.UpperCasePipe,[]),P.\u0275pid(0,x.LowerCasePipe,[]),P.\u0275pid(0,x.DatePipe,[P.LOCALE_ID]),P.\u0275qud(671088640,1,{dayEntryUl:0}),(e()(),P.\u0275eld(0,null,null,9,"div",[["class","progview"]],[[8,"scrollTop",0]],null,null,null,null)),(e()(),P.\u0275ted(null,["\n  "])),(e()(),P.\u0275and(16777216,null,null,1,null,g)),P.\u0275did(16384,null,0,x.NgIf,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),P.\u0275ted(null,["\n  "])),(e()(),P.\u0275eld(0,null,null,0,"div",[["id","spin-loader"]],[[8,"hidden",0]],null,null,null,null)),(e()(),P.\u0275ted(null,["\n  "])),(e()(),P.\u0275eld(0,null,null,1,"p",[],[[8,"hidden",0]],null,null,null,null)),(e()(),P.\u0275ted(null,["",""])),(e()(),P.\u0275ted(null,["\n"])),(e()(),P.\u0275ted(null,["\n"]))],function(e,n){e(n,7,0,n.component.days)},function(e,n){var t=n.component;e(n,4,0,t.scrollTop),e(n,9,0,t.days||t.error),e(n,11,0,!t.error),e(n,12,0,t.error)})}function v(e){return P.\u0275vid(0,[(e()(),P.\u0275eld(0,null,null,2,"days-view",[],null,null,null,m,n.RenderType_DaysView)),P.\u0275prd(512,null,b.DaysService,b.DaysService,[_.Http]),P.\u0275did(638976,null,0,w.DaysView,[b.DaysService],null,null)],function(e,n){e(n,2,0)},null)}Object.defineProperty(n,"__esModule",{value:!0});var y=t("agHN"),P=t("/oeL"),x=t("qbdv"),w=t("xHFf"),b=t("yJCl"),_=t("CPp0"),M=[y.styles];n.RenderType_DaysView=P.\u0275crt({encapsulation:0,styles:M,data:{}}),n.View_DaysView_0=m,n.View_DaysView_Host_0=v,n.DaysViewNgFactory=P.\u0275ccf("days-view",w.DaysView,v,{tripId:"tripId"},{selectLocation:"selectLocation"},[])},uTZG:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.styles=[".flex-col[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column}.flex-col[_ngcontent-%COMP%], .flex-col-or-row[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.flex-col-or-row[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row}.flex-auto[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow:auto}.flex-fixed[_ngcontent-%COMP%]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;overflow:auto}.schedule-link[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}@media (orientation:portrait){.rotate[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}agm-map[_ngcontent-%COMP%], days-view[_ngcontent-%COMP%], mapContainer[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.relative[_ngcontent-%COMP%]{position:relative}.abs-fill[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}article[_ngcontent-%COMP%]{background:#4b3}.region-header[_ngcontent-%COMP%]{padding-bottom:14px}#initerary[_ngcontent-%COMP%]   .region-header[_ngcontent-%COMP%]{margin-top:0!important}.h100[_ngcontent-%COMP%]{height:100%}.backtohomepage[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase}.white-shadow[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:30px;background:linear-gradient(#fff,hsla(0,0%,100%,0))}"]},v0bJ:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("x88H"),o=t("Nh04"),r=t("Rp1X"),i=t("zOtD"),a=t("owx+"),s=function(){function e(){this.reset()}return e.makePlaneIcon=function(e,n){var t=new i.TripNode;return t.name=n.dbid+"-"+e,t.labelIcon={url:"/ng-map/assets/plane.png",width:20,autorotate:Math.PI/2*("landing"===e?1:-1),ratioX:.5,ratioY:"landing"===e?0:1},t.coord=n.coord,t.properties={point:!1,leaderLine:"center",dashed:[5,3],leaderLineWidth:2},t},e.prototype.places=function(){return this._tripData.places},e.prototype.stages=function(){return this._tripData.stages},e.prototype.setLocation=function(e){this._tripData.location=e},e.prototype.location=function(){return this._tripData.location},e.prototype.width_mm=function(){return this._tripData.width},e.prototype.height_mm=function(){return this._tripData.height},e.prototype.pageSizeName=function(){return this._tripData.pageSizeName},e.prototype.world=function(){return this._tripData.world||(this._tripData.world={}),this._tripData.world},e.prototype.setSize=function(e,n,t){this._tripData.width=n,this._tripData.height=t,this._tripData.pageSizeName=e},e.prototype.defaultRadius=function(){return this._tripData.defaultRadius},e.prototype.defaultTextProp=function(){return this._tripData.defaultTextProp||(this._tripData.defaultTextProp={}),this._tripData.defaultTextProp},e.prototype.defaultEdgeProp=function(){return this._tripData.defaultEdgeProp||(this._tripData.defaultEdgeProp=e.defaultTrip().defaultEdgeProp),this._tripData.defaultEdgeProp},e.prototype.reset=function(){this._tripData=e.defaultTrip()},e.defaultTrip=function(){return{places:[],stages:[],additionalPlaces:[],location:{x:.5,y:.5,scale:1/8},defaultRadius:8,width:128,height:190,pageSizeName:"Full page",borderColor:"#fefefe",landColor:"#cecece",seaColor:"#c4e3ff",world:{},defaultTextProp:{fontSize:12,font:"'PT Sans', sans-serif",stroke:"rgba(255,255,255,.8)",fill:"#000000"},defaultEdgeProp:{lineWidth:2,lineColor:"#000000"}}},e.prototype.setPlaces=function(e){this._tripData.places.splice.apply(this._tripData.places,[0,this._tripData.places.length].concat(e)),this.updateStages(),this.updateLandingsAndTakeoff()},e.prototype.updateStages=function(){for(var e=this._tripData.places,n=e.length-1,t=this._tripData.stages,l=[],i={},a=0,s=t;a<s.length;a++){var u=s[a];u.fromDbId&&(i[u.fromDbId]=u)}for(var d=1;d<=n;++d){var p=e[d-1].dbid;if(i[p]){var c=i[p];c.to=e[d].name,l.push(c)}else l.push(new o.TripEdge({from:e[d-1].name,to:e[d].name,fromDbId:p,controlPoints:r.TripGraph.generateControlPoints(d>=2?e[d-2].coord:void 0,e[d-1].coord,e[d].coord,d+1<e.length?e[d+1].coord:void 0)}))}this._tripData.stages.splice.apply(this._tripData.stages,[0,this._tripData.stages.length].concat(l))},e.prototype.updateLandingsAndTakeoff=function(){for(var n={},t=this._tripData.additionalPlaces,l=0;l<t.length;++l)n[t[l].name]=l;for(var o=[],r={},i=["landing","takeoff"],a=0,s=this._tripData.places;a<s.length;a++)for(var u=s[a],d=0,p=i;d<p.length;d++){var c=p[d],f=u.dbid+"-"+c;u.properties[c]?f in n||o.push(e.makePlaneIcon(c,u)):f in n&&(r[f]=!0)}var h=t.filter(function(e){return!(e.name in r)}).concat(o);this._tripData.additionalPlaces.splice.apply(this._tripData.additionalPlaces,[0,this._tripData.additionalPlaces.length].concat(h))},e.prototype.nodeRadius=function(e,n){var t=this._tripData.defaultRadius;return e.properties&&e.properties.radius&&(t=e.properties.radius),t*n},e.prototype.makeGraph=function(e){for(var n={},t=(function(e){for(var t=e;t in n;)t=n[t];return t}),o=0,s=this._tripData.places;o<s.length;o++){var u=s[o];if(!u.name)throw new Error("nodes should have names and labels")}var d=[];if(e){for(var p=e.renderer.pinchZoom,c=e.renderer.pixelRatio,f=0,h=this._tripData.places;f<h.length;f++){var g=h[f];g.viewerPos=p.viewerPosFromWorldPos(g.coord)}for(var m=0,v=this._tripData.places;m<v.length;m++){var g=v[m];if(!(!g.label||g.properties&&g.properties.skip)){for(var y=this.nodeRadius(g,c),P=!0,x=0;x<d.length;++x){var u=d[x];if(l.Point.dist(u.viewerPos,g.viewerPos)<this.nodeRadius(u,c)+y){d[x]=function(e,t){var l=i.TripNode.parse(e);l.name=e.name+","+t.name,l.allPlaces=e.allPlaces.concat([t]);var o=e.label.split("\n");return o.indexOf(t.label)<0&&o.push(t.label),l.label=o.join("\n"),n[e.name]=n[t.name]=l.name,l}(u,g),P=!1;break}}if(P){g.properties||(g.properties={});var w=i.TripNode.parse(g);w.place=g,w.allPlaces=[g],d.push(w)}}}}else for(var b=0,_=this._tripData.places;b<_.length;b++){var g=_[b],w=i.TripNode.parse(g);w.place=g,w.allPlaces=[g],d.push(w)}for(var M=this._tripData.places,C={},x=0;x<M.length;++x){var u=M[x];C[u.name]=x}for(var T=new r.TripGraph,O=0,D=d;O<D.length;O++){var u=D[O];T.nodes[u.name]=u}this.updateLandingsAndTakeoff();for(var I=0,L=this._tripData.additionalPlaces;I<L.length;I++){var u=L[I];T.nodes[u.name]=u}for(var k=0,R=this._tripData.stages;k<R.length;k++){var E=R[k];if(!E.properties.hidden&&!M[C[E.from]].isSkipped()){for(var S=t(E.from),N=C[E.to];N<M.length&&M[N].isSkipped();)++N;if(!(N>=M.length||M[N].isSkipped())){var A=t(M[N].name);if(S!==A){var F=a.TripGraphLayer.shallowCopy(E);F.from=S,F.to=A,F.originalEdge=E,T.edges.push(F)}}}}return T},e.prototype.save=function(){return this._tripData},e.prototype.load=function(e){if(!e||!e.places||!e.stages)throw new Error("no data");var n=e,t=function(e){for(var n=0;n<e.length;++n)e[n]=i.TripNode.parse(e[n])};t(n.places);for(var l=n.stages,r=0;r<l.length;++r)l[r]=new o.TripEdge(l[r]);t(n.additionalPlaces),this._tripData=n,this.defaultEdgeProp(),this.setSize(e.pageSizeName,e.width,e.height)},e.prototype.seaColor=function(){return this._tripData.seaColor},e.prototype.setSeaColor=function(e){this._tripData.seaColor=e},e.prototype.landColor=function(){return this._tripData.landColor},e.prototype.setLandColor=function(e){this._tripData.landColor=e},e.prototype.borderColor=function(){return this._tripData.borderColor},e.prototype.setBorderColor=function(e){this._tripData.borderColor=e},e.prototype.placeByName=function(e){for(var n=0,t=this._tripData.places;n<t.length;n++){var l=t[n];if(e===l.name)return l}},e}();n.SeqTrip=s},x88H:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,n){if("number"==typeof e&&"number"==typeof n?(this.x=e,this.y=n):Array.isArray(e)?(this.x=e[0],this.y=e[1]):"object"==typeof e&&(this.x=e.x,this.y=e.y),void 0===this.x||void 0===this.y)throw new Error("invalid point")}return e.minus=function(n,t){return new e(n.x-t.x,n.y-t.y)},e.plus=function(n,t){return new e(n.x+t.x,n.y+t.y)},e.times=function(n,t){return new e(n*t.x,n*t.y)},e.min=function(n,t){return new e(Math.min(n.x,t.x),Math.min(n.y,t.y))},e.max=function(n,t){return new e(Math.max(n.x,t.x),Math.max(n.y,t.y))},e.dist=function(e,n){var t=e.x-n.x,l=e.y-n.y;return Math.sqrt(t*t+l*l)},e.norm=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.nearest=function(n,t){for(var l,o,r=0,i=t;r<i.length;r++){var a=i[r],s=e.dist(a,n);(void 0===l||s<o)&&(o=s,l=a)}return l},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.mul=function(e){return this.x*=e,this.y*=e,this},e.prototype.norm=function(){return e.norm(this)},e}();n.Point=l},xHFf:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("/oeL"),o=t("yJCl"),r=function(){function e(e){this.daysService=e,this.selectLocation=new l.EventEmitter,this.scrollTop=0,this.translations=translations}return e.prototype.ngOnInit=function(){this.fetchDays()},e.prototype.ngOnChanges=function(){this.fetchDays()},e.prototype.fetchDays=function(){var e=this;console.log("FETCHING trip: "+this.tripId),this.tripId&&this.daysService.getDays(this.tripId).then(function(n){e.days=n}).catch(function(n){e.error="Failed to load trip content"})},e.prototype.fireSelectLocation=function(e){this.selectLocation.next(e)},e.eventBaseLocations=function(e){return e.locations},e.dayLocations=function(n){for(var t=e.eventBaseLocations(n).slice(),l=0,o=n.events;l<o.length;l++){var r=o[l];t=t.concat(e.eventBaseLocations(r))}return t},e.dist=function(e,n){var t=e.latitude-n.lat,l=e.longitude-n.lng;return t*t+l*l},e.distanceToDay=function(n,t){var l=e.dayLocations(n).map(function(n){return e.dist(n,t)});if(l.length>0)return Math.min.apply(Math,l)},e.prototype.scrollTo=function(n){if(this.dayEntryUl){for(var t,l,o=0;o<this.days.days.length;++o){var r=this.days.days[o],i=e.distanceToDay(r,n);i&&(!t||i<t)&&(t=i,l=o)}if(void 0!=l){var a=this.dayEntryUl.nativeElement.children[l].offsetTop;this.scrollTop=Math.max(0,a-5)}}},e.prototype.locationsForDay=function(e){for(var n=e.locations.slice(),t=0,l=e.events;t<l.length;t++){var o=l[t];n=n.concat(o.locations)}return n},e.prototype.T=function(e){for(var n=e.split("."),t=translations;n.length>0;){var l=n[0];if(!t[l])return console.log("Missing translation: "+e),e;t=t[l],n=n.slice(1)}return"object"==typeof t?(console.log("invalid translation key: "+e),e):t},e.ctorParameters=function(){return[{type:o.DaysService}]},e}();n.DaysView=r},yJCl:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("CPp0");t("82j9"),t("5v8a");var o=function(){function e(e){this.http=e}return e.prototype.getDays=function(e){return this.http.get("/api/trips/"+e+"/days.json").map(function(e){return e.json()}).toPromise()},e.ctorParameters=function(){return[{type:l.Http}]},e}();n.DaysService=o},zOtD:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t("x88H"),o=t("E+5d"),r=function(){function e(){this.allPlaces=[]}return e.parse=function(n){var t=new e;t.coord=new l.Point(n.coord),n.place&&(n.place=e.parse(n.place)),n.viewerPos&&(t.viewerPos=new l.Point(n.viewerPos));for(var r=0,i=["dbid","name","label","labelIcon","properties"];r<i.length;r++){var a=i[r];n[a]&&(t[a]=n[a])}return t.name||(void 0!==t.dbid?t.name=""+t.dbid:t.label&&(t.name=t.label)),t.properties?(t.properties.labelBbox&&(t.properties.labelBbox=new o.BoundingBox(t.properties.labelBbox)),t.properties.leaderLineAnchor&&(t.properties.leaderLineAnchor=new l.Point(t.properties.leaderLineAnchor)),t.properties.labelCoord&&(t.properties.labelCoord=new l.Point(t.properties.labelCoord))):t.properties={},t},e.prototype.isSkipped=function(){return!(this.label&&(!this.properties||void 0===this.properties.skip))&&this.properties.skip},e}();n.TripNode=r}},[0]);