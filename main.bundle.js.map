{"version":3,"sources":["/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/$_gendir lazy","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/app.component.css","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/app.component.html","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/app.component.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/app.module.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/days-view/days-view.component.css","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/days-view/days-view.component.html","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/days-view/days-view.component.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/shared/days.service.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/test-app.component.css","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/test-app.component.html","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/test-app.component.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/canvas-overlay.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/bounding-box.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/point.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/seq-trip.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/tiles.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/trip-edge.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/trip-graph-layer.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/trip-graph.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/trip-node.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/trip-layer.component.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/environments/environment.ts","/Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../frontend/offer/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/$$_gendir lazy\n// module id = ../../../../../frontend/offer/$$_gendir lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/app.component.css\n// module id = ../../../../../frontend/offer/src/app/app.component.css\n// module chunks = main","module.exports = \"<!--The whole content below can be removed with the new code.-->\\n<div style=\\\"text-align:center\\\">\\n  <h1>\\n    Welcome to {{title}}!!\\n  </h1>\\n  <img width=\\\"300\\\" src=\\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAyNTAgMjUwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNTAgMjUwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojREQwMDMxO30NCgkuc3Qxe2ZpbGw6I0MzMDAyRjt9DQoJLnN0MntmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxnPg0KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMTI1LDMwIDEyNSwzMCAxMjUsMzAgMzEuOSw2My4yIDQ2LjEsMTg2LjMgMTI1LDIzMCAxMjUsMjMwIDEyNSwyMzAgMjAzLjksMTg2LjMgMjE4LjEsNjMuMiAJIi8+DQoJPHBvbHlnb24gY2xhc3M9InN0MSIgcG9pbnRzPSIxMjUsMzAgMTI1LDUyLjIgMTI1LDUyLjEgMTI1LDE1My40IDEyNSwxNTMuNCAxMjUsMjMwIDEyNSwyMzAgMjAzLjksMTg2LjMgMjE4LjEsNjMuMiAxMjUsMzAgCSIvPg0KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xMjUsNTIuMUw2Ni44LDE4Mi42aDBoMjEuN2gwbDExLjctMjkuMmg0OS40bDExLjcsMjkuMmgwaDIxLjdoMEwxMjUsNTIuMUwxMjUsNTIuMUwxMjUsNTIuMUwxMjUsNTIuMQ0KCQlMMTI1LDUyLjF6IE0xNDIsMTM1LjRIMTA4bDE3LTQwLjlMMTQyLDEzNS40eiIvPg0KPC9nPg0KPC9zdmc+DQo=\\\" />\\n</div>\\n<h2>Here are some links to help you start: </h2>\\n<ul>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" href=\\\"https://angular.io/docs/ts/latest/tutorial/\\\">Tour of Heroes</a></h2>\\n  </li>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" href=\\\"https://github.com/angular/angular-cli/wiki\\\">CLI Documentation</a></h2>\\n  </li>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" href=\\\"http://angularjs.blogspot.ca/\\\">Angular blog</a></h2>\\n  </li>\\n</ul>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/app.component.html\n// module id = ../../../../../frontend/offer/src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/app.component.ts","import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { Http, HttpModule } from '@angular/http';\n\n\nimport { AppComponent } from './app.component';\nimport { DaysView }  from './days-view/days-view.component';\nimport { TestApp } from './test-app.component';\nimport { DaysService } from './shared/days.service';\nimport { TripLayer } from './trip-layer/trip-layer.component';\n\nimport { AgmCoreModule } from '@agm/core';\nimport { BROWSER_GLOBALS_PROVIDERS } from '@agm/core/utils/browser-globals';\nimport { NoOpMapsAPILoader } from '@agm/core/services/maps-api-loader/noop-maps-api-loader';\nimport { MapsAPILoader } from '@agm/core/services/maps-api-loader/maps-api-loader';\n\n\n@NgModule({\n  imports:      [\n    BrowserModule,\n    HttpModule,\n    {\n      ngModule: AgmCoreModule,\n      providers: [\n        ...BROWSER_GLOBALS_PROVIDERS, {provide: MapsAPILoader, useClass: NoOpMapsAPILoader}\n      ],\n    }\n  ],\n  declarations: [\n    AppComponent,\n    DaysView,\n    TestApp,\n    TripLayer\n  ],\n  providers: [\n    DaysService\n  ],\n  bootstrap: [ TestApp ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/app.module.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"div.progview {\\n  background-color: #EEE;\\n  overflow: auto;\\n  height: 100%;\\n}\\n\\n.progview ul {\\n  padding: 5px;\\n}\\n\\n\\n.progview li {\\n  list-style-type: none;\\n  position: relative;\\n  left: 0;\\n  background-color: #fff;\\n}\\n\\n.dayEntryUl > li:first-child header {border-top: 0px; padding-top: 0px;}\\n\\n.progview li .clickable:hover {\\n  background-color: #72b866;\\n}\\n\\nli .clickable {\\n  color: #fff;\\n  padding: 6px 12px;\\n  font-size: 14px;\\n  display: inline-block;\\n  border-radius: 12px;\\n  margin: 3px 3px 9px;\\n  cursor: pointer;\\n  font-weight: bold;\\n}\\n\\n.locations {\\n  display: inline-block;\\n}\\n\\nheader {\\n  position: relative;\\n  padding-top: 40px;\\n}\\n\\n.date {\\n  float: right;\\n  font-size: 18px;\\n}\\n.day {\\n  font-size: 18px;\\n  border-bottom: 1px solid;\\n}\\n.dayTitle {\\n  font-size: 18px;\\n  font-weight: 800;\\n  margin: 10px 0px 10px 0px;\\n}\\n.daySubTitle {\\n  font-size: 18px;\\n  font-weight: 300;\\n  padding: 0px 0px 10px;\\n  color: #949494;\\n}\\n\\n.eventIndication, .eventTitle, .eventDescription {font-size: 16px;}\\n.eventIndication, .eventTitle {font-weight: 600;}\\n\\n.eventSubTitle {\\n  padding-bottom: 5px;\\n  font-weight: 300;\\n  color: #949494;\\n}\\n\\n.eventDescription {\\n  margin-top: 10px;\\n}\\n\\nul .locations {\\n  padding: 0px;\\n}\\n\\n.thumbnail-schedule {padding: 0px 10px 10px 0px;}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/days-view/days-view.component.css\n// module id = ../../../../../frontend/offer/src/app/days-view/days-view.component.css\n// module chunks = main","module.exports = \"<div class=\\\"progview\\\" [scrollTop]=\\\"scrollTop\\\">\\n  <div *ngIf=\\\"days\\\">\\n    <h2 *ngIf=\\\"days.title\\\">{{ days.title }}</h2>\\n    <ul #dayEntryUl class=\\\"dayEntryUl\\\" style=\\\"padding:5px;margin:5px;margin-top:10px;\\\">\\n      <li *ngFor=\\\"let day of days.days; index as dayNo\\\" style=\\\"padding:5px 20px;margin:0px;\\\">\\n        <header>\\n          <div class=\\\"day schedule_day_title_color separatorColor\\\" style=\\\"width: 100%\\\"><strong>{{ T(day.date | date : 'EEEE' | lowercase) | uppercase }}</strong>, {{ day.date | date : 'dd.MM.yy' }}</div>\\n          <div class=\\\"dayTitle\\\">{{ day.title }}</div>\\n          <div *ngIf=\\\"day.subtitle\\\" class=\\\"daySubTitle\\\">{{ day.subtitle }}</div>\\n        </header>\\n\\n        <ul class=\\\"locations\\\">\\n          <li class=\\\"clickable schedule_location_button_color\\\" (click)=\\\"fireSelectLocation(loc)\\\"\\n              *ngFor=\\\"let loc of locationsForDay(day)\\\">{{ loc.name }}</li>\\n        </ul>\\n\\n        <div *ngIf=\\\"day.description\\\" [innerHTML]=\\\"day.description\\\"></div>\\n\\n        <ul>\\n          <li *ngFor=\\\"let event of day.events\\\" style=\\\"margin: 20px 0px; border-bottom: 1px solid #efefef;\\\">\\n            <span *ngIf=\\\"event.indication\\\" class=\\\"eventIndication\\\">{{ event.indication }}<br /></span>\\n            <span *ngIf=\\\"event.time\\\" class=\\\"eventIndication\\\">{{ toUTCDate(event.time) | date : 'hh:mm' }}<br /></span>\\n            <span *ngIf=\\\"event.title\\\" class=\\\"eventTitle\\\">{{ event.title }}<br /></span>\\n            <span *ngIf=\\\"event.subtitle\\\" class=\\\"eventSubTitle\\\">{{ event.subtitle }}<br /></span>\\n            <div [innerHTML]=\\\"event.description\\\" class=\\\"eventDescription\\\"></div>\\n\\n            <div class=\\\"slick-carousel\\\">\\n              <a *ngFor=\\\"let pic of event.pictures\\\" href=\\\"{{ pic.thumb_url }}\\\" data-toggle=\\\"lightbox\\\" data-gallery=\\\"gallery1\\\">\\n                <img class=\\\"thumbnail-schedule\\\" src=\\\"{{ pic.thumb_url }}\\\"/>\\n              </a>\\n            </div>\\n          </li>\\n        </ul>\\n        <div class=\\\"slick-carousel\\\">\\n          <a *ngFor=\\\"let pic of day.pictures\\\" href=\\\"{{ pic.thumb_url }}\\\" data-toggle=\\\"lightbox\\\" data-gallery=\\\"gallery2\\\">\\n            <img class=\\\"thumbnail-schedule img-fluid\\\" src=\\\"{{ pic.thumb_url }}\\\"/>\\n          </a>\\n        </div>\\n      </li>\\n    </ul>\\n  </div>\\n  <div [hidden]=\\\"days || error\\\" id=\\\"spin-loader\\\"></div>\\n  <p [hidden]=\\\"!error\\\">{{ error }}</p>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/days-view/days-view.component.html\n// module id = ../../../../../frontend/offer/src/app/days-view/days-view.component.html\n// module chunks = main","import { Component, Input, Output, OnInit, OnChanges, EventEmitter, ViewChild } from '@angular/core';\n\nimport * as Days from '../shared/days';\nimport { DaysService } from '../shared/days.service';\nimport { LatLngLiteral } from '@agm/core/services/google-maps-types';\n\ndeclare var translations : any;\n\n@Component({\n  selector: 'days-view',\n  templateUrl: './days-view.component.html',\n  styleUrls: [ './days-view.component.css' ],\n  providers: [ DaysService ]\n})\nexport class DaysView implements OnInit, OnChanges  {\n  @Input() tripId: string;\n  @Output() selectLocation: EventEmitter<Days.Location> = new EventEmitter<Days.Location>();\n  translations: object\n  days: Days.Days;\n  error?: string;\n\n  @ViewChild('dayEntryUl') dayEntryUl;\n  public scrollTop = 0;\n\n  constructor(private daysService: DaysService) {\n    this.translations = translations;\n  }\n\n  ngOnInit() {\n    this.fetchDays();\n  }\n\n  ngOnChanges() {\n    this.fetchDays();\n  }\n\n  fetchDays() {\n    console.log('FETCHING trip: ' + this.tripId);\n    if (this.tripId) {\n    this.daysService.getDays(this.tripId)\n      .then(days => { this.days = days; })\n      .catch(err => { this.error = 'Failed to load trip content'; })\n    }\n  }\n\n  fireSelectLocation(loc : Days.Location) {\n    this.selectLocation.next(loc);\n  }\n\n  static eventBaseLocations(e: Days.DayEventBase) : Days.Location[] {\n    return e.locations;\n  }\n\n\n  static dayLocations(day: Days.Day) : Days.Location[] {\n    let locations : Days.Location[] = DaysView.eventBaseLocations(day).slice();\n    for (let ev of day.events) {\n      locations = locations.concat(DaysView.eventBaseLocations(ev));\n    }\n    return locations;\n  }\n\n  static dist(l: Days.Location, latLng: LatLngLiteral) : number {\n    const dlat = l.latitude - latLng.lat;\n    const dlng = l.longitude - latLng.lng;\n    return dlat * dlat + dlng * dlng;\n  }\n\n  static distanceToDay(day: Days.Day, latLng: LatLngLiteral) : number | undefined {\n    const distances = DaysView.dayLocations(day).map((l : Days.Location) => DaysView.dist(l, latLng));\n    if (distances.length > 0) {\n      return Math.min.apply(Math, distances);\n    }\n    return undefined;\n  }\n\n  scrollTo(latLng: LatLngLiteral) {\n    if (!this.dayEntryUl) {\n      return;\n    }\n\n    let bestDist : number;\n    let bestDay : number;\n    for (let i = 0; i < this.days.days.length; ++i) {\n      const day = this.days.days[i];\n\n      const dist = DaysView.distanceToDay(day, latLng);\n      if (dist && (!bestDist || dist < bestDist)) {\n        bestDist = dist;\n        bestDay = i;\n      }\n    }\n    if (bestDay != undefined) {\n      const offset = this.dayEntryUl.nativeElement.children[bestDay].offsetTop;\n      this.scrollTop = Math.max(0, offset - 5);\n    }\n  }\n\n  locationsForDay(day: Days.Day) : Days.Location[] {\n    let r = day.locations.slice();\n    for (let ev of day.events) {\n      r = r.concat(ev.locations);\n    }\n    return r;\n  }\n\n  toUTCDate = function(date: string) : Date {\n    let d : Date;\n    let _utc : Date;\n\n    d = new Date(date);\n    _utc = new Date(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate(),  d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds());\n    return _utc;\n  }\n\n\n    T(s: string) {\n        let keys = s.split('.');\n        let obj = translations;\n        while (keys.length > 0) {\n            const k = keys[0];\n            if (!obj[k]) {\n                console.log('Missing translation: ' + s);\n                return s;\n            }\n\n            obj = obj[k];\n            keys = keys.slice(1);\n        }\n        if (typeof(obj) == 'object') {\n            console.log('invalid translation key: ' + s);\n            return s;\n        }\n        return obj;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/days-view/days-view.component.ts","import { Injectable }              from '@angular/core';\nimport { Http, Response }          from '@angular/http';\n\nimport * as Days from './days';\n\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class DaysService {\n  constructor(private http: Http) { }\n\n  getDays(tripId : string) : Promise<Days.Days> {\n    return this.http.get('/api/trips/' + tripId + '/days.json')\n       .map((res:Response) => res.json())\n      .toPromise();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/shared/days.service.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n.flex-col {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n}\\n\\n/* flexbox settings */\\n.flex-row, .flex-col-or-row {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n}\\n.flex-auto { -webkit-box-flex: 1; -ms-flex: 1 1 auto; flex: 1 1 auto; overflow:auto; }\\n.flex-fixed { -webkit-box-flex: 0; -ms-flex: 0 0 auto; flex: 0 0 auto; overflow:auto; }\\n\\n.schedule-link:hover {\\n  text-decoration: underline;\\n  cursor: pointer;\\n}\\n\\n@media (orientation : portrait) { .rotate { -webkit-box-orient: vertical; -webkit-box-direction: normal; -ms-flex-direction: column; flex-direction: column; } }\\n\\ndays-view, agm-map, mapContainer {\\n  width: 100%;\\n  height: 100%;\\n  display: block;\\n}\\n\\n.relative { position: relative; }\\n.abs-fill { position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; }\\narticle {\\nbackground: #4b3;\\n}\\n\\n.region-header {padding-bottom: 14px;}\\n\\n#initerary .region-header {margin-top: 0px !important;}\\n\\n.h100 {height: 100%;}\\n\\n.backtohomepage a {color: white; text-transform: uppercase;}\\n\\n.white-shadow {\\n  position: absolute;\\n  top: 0px;\\n  width: 100%;\\n  height: 30px;\\n  background: linear-gradient(white, rgba(255, 255, 255, 0));\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/test-app.component.css\n// module id = ../../../../../frontend/offer/src/app/test-app.component.css\n// module chunks = main","module.exports = \"\\n\\n<div id=\\\"initerary\\\" class=\\\"h100 flex-col\\\">\\n  <header class=\\\"flex-row region region-header schedule_menu_color schedule_menu_text_color\\\">\\n\\n    <span class=\\\"title flex-auto\\\">\\n      <i class=\\\"fa fa-map\\\" aria-hidden=\\\"true\\\"></i>\\n       | <span class=\\\"backtohomepage\\\"><a href=\\\".\\\">{{ T('back') }}</a></span> |\\n      <span class=\\\"schedule-link\\\" (click)=\\\"fullMap()\\\">{{ T('schedule')}}</span>\\n    </span>\\n  </header>\\n\\n  <div class=\\\"flex-auto flex-row rotate\\\">\\n    <!-- see https://stackoverflow.com/questions/33636796/chrome-safari-not-filling-100-height-of-flex-parent -->\\n    <div class=\\\"flex-auto relative\\\">\\n      <div class=\\\"abs-fill\\\">\\n      <agm-map [latitude]=\\\"latitude\\\" [longitude]=\\\"longitude\\\"\\n        [draggableCursor]=\\\"'auto'\\\"\\n        (centerChange)=\\\"centerChanged($event)\\\"\\n        (zoomChange)=\\\"zoomChanged($event)\\\"\\n        (mapClick)=\\\"mapClicked($event)\\\"\\n        >\\n        <trip-layer #tripLayer></trip-layer>\\n\\n        <agm-marker *ngFor=\\\"let m of markers\\\"\\n          [latitude]=m.lat [longitude]=\\\"m.lng\\\"\\n          [openInfoWindow]=\\\"false\\\"\\n          (markerClick)=\\\"mapClicked({coords: m});\\\"\\n          ></agm-marker>\\n\\n      </agm-map>\\n      </div>\\n    </div>\\n    <div class=\\\"flex-auto relative\\\">\\n      <days-view class=\\\"abs-fill\\\" #days [tripId]=\\\"tripId\\\"\\n        (selectLocation)=\\\"selectLocation($event)\\\"\\n        ></days-view>\\n      <div class=\\\"white-shadow\\\"></div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/test-app.component.html\n// module id = ../../../../../frontend/offer/src/app/test-app.component.html\n// module chunks = main","import { Component, Input, ViewChild } from '@angular/core';\nimport * as Days from './shared/days';\nimport { LatLngLiteral, MouseEvent } from '@agm/core/services/google-maps-types';\n\ndeclare var currentTripId : string;\ndeclare var translations : any;\n\n@Component({\n  selector: 'test-app',\n  templateUrl: 'test-app.component.html',\n  styleUrls: [ 'test-app.component.css' ]\n})\nexport class TestApp  {\n  private location : string = '';\n  latitude: number;\n  longitude: number;\n  zoom: number;\n  translations: object;\n\n  @Input() tripId: string;\n\n  @ViewChild('days') days;\n  @ViewChild('tripLayer') tripLayer;\n\n  markers: LatLngLiteral[] = [];\n\n  constructor() {\n    this.tripId = currentTripId;\n    this.translations = translations;\n    console.log('TRIP ID: ' + this.tripId);\n  }\n\n  selectLocation(loc: Days.Location) {\n    this.location = loc.name;\n    this.latitude = loc.latitude;\n    this.longitude = loc.longitude;\n    const latLng = {lat: this.latitude, lng: this.longitude};\n    this.markers = [ latLng ];\n\n    if (this.tripLayer) {\n      this.tripLayer.focusOnPoint(latLng);\n    }\n  }\n\n  centerChanged(latLon: LatLngLiteral) {\n    this.latitude = latLon.lat;\n    this.longitude = latLon.lng;\n  }\n\n  zoomChanged(zoom: number) {\n    const minZoom = 2;\n    this.zoom = zoom;\n    if (zoom < minZoom) {\n      this.tripLayer.setZoom(minZoom);\n    }\n  }\n\n  mapClicked(ev: any) {\n    if (this.days) {\n      this.days.scrollTo(ev.coords);\n      this.markers = [];\n    }\n  }\n\n  fullMap() {\n    // Focusing on no point means showing the full map.\n    this.tripLayer.focusOnPoint();\n    this.markers = [];\n  }\n\n  T(s: string) {\n    let keys = s.split('.');\n    let obj = translations;\n    while (keys.length > 0) {\n      const k = keys[0];\n      if (!obj[k]) {\n        console.log('Missing translation: ' + s);\n        return s;\n      }\n\n      obj = obj[k];\n      keys = keys.slice(1);\n    }\n    if (typeof(obj) == 'object') {\n      console.log('invalid translation key: ' + s);\n      return s;\n    }\n    return obj;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/test-app.component.ts","import { GoogleMapsAPIWrapper } from '@agm/core/services/google-maps-api-wrapper';\nimport * as mapTypes from '@agm/core/services/google-maps-types';\n\nimport { Point } from './mapviewer/point';\nimport { SeqTrip } from './mapviewer/seq-trip';\nimport { TripGraph } from './mapviewer/trip-graph';\nimport { TripGraphLayer } from './mapviewer/trip-graph-layer';\nimport { T, Location, CanvasTilesRenderer, CanvasTilesRendererParams } from './mapviewer/tiles';\nimport { LatLngLiteral, LatLng } from '@agm/core/services/google-maps-types';\n\n//declare class CanvasTilesRenderer { };\ndeclare var Utils : any;\n\ndeclare const google: any;\n\nexport class CanvasOverlay extends google.maps.OverlayView {\n  private canvas: HTMLCanvasElement;\n  private trip: SeqTrip;\n  private graph: TripGraph;\n  private tripLayer: TripGraphLayer;\n  private renderer: CanvasTilesRenderer;\n  private initialLocation: Location;\n  private redrawInterval : any;\n  private inDraw: boolean = false;\n\n  onAdd() {\n    if (!this.canvas) {\n      this.canvas = document.createElement('canvas');\n    }\n\n    const canvas = this.canvas;\n    canvas.style.border = 'none';\n    canvas.style.borderWidth = '0px';\n    canvas.style.position = 'absolute';\n    canvas.style.top = '0 px';\n    canvas.style.left = '0 px';\n\n    this.canvas = canvas;\n\n    // Add the element to the \"overlayImage\" pane.\n    const panes = this.getPanes();\n    panes.mapPane.appendChild(this.canvas);\n\n    //this.redrawInterval = setInterval(() => { this.refresh(); }, 4000);\n  }\n\n  setTrip(tripToLoad: any) {\n    if (!this.canvas) {\n      this.canvas = document.createElement('canvas');\n    }\n\n    const trip = new SeqTrip();\n\n    try {\n      trip.load(tripToLoad);\n    } catch(err) {\n      console.log(err);\n      console.log(err.stack);\n      return;\n    }\n    this.trip = trip;\n\n    this.initialLocation = this.trip.location();\n\n    const renderer = this.renderer = new T.CanvasTilesRenderer({\n      canvas: this.canvas,\n      noInteraction: true,\n      clearBorder: false\n    });\n\n    this.graph = new TripGraph(undefined, trip.defaultTextProp());\n\n    const tripLayer = this.tripLayer = new TripGraphLayer({\n      renderer: this.renderer,\n      graph: this.graph,\n      defaultEdgeProp: trip.defaultEdgeProp(),\n      hideLabels: true\n    });\n\n    const canvas = this.canvas;\n    this.renderer.layers = [ ];\n    this.renderer.addLayer(this.tripLayer);\n\n    this.focusOnPoint();\n\n    this.draw();\n  }\n\n  draw() {\n    if (!this.renderer) {\n      return;\n    }\n    this.inDraw = true;\n\n    try {\n      // We use the south-west and north-east\n      // coordinates of the overlay to peg it to the correct position and size.\n      // To do this, we need to retrieve the projection from the overlay.\n      const overlayProjection = this.getProjection();\n\n      const map = this.getMap();\n      const mapDiv = map.getDiv();\n      if (!mapDiv) {\n        return;\n      }\n      const viewSize = { x: mapDiv.clientWidth, y: mapDiv.clientHeight };\n      const origin = {x: 0, y: 0};\n      const nwLatLng = overlayProjection.fromContainerPixelToLatLng(origin, /*nowrap*/ true);\n      const seLatLng = overlayProjection.fromContainerPixelToLatLng(viewSize, true);\n      const lngDeltaDeg = seLatLng.lng() - nwLatLng.lng();\n      const lngDeltaPix = viewSize.x - origin.x;\n      const degToPix = lngDeltaPix / lngDeltaDeg;\n\n      const center = { x: viewSize.x / 2, y: viewSize.y / 2 };\n      const centerLatLng = overlayProjection.fromContainerPixelToLatLng(center);\n      const centerDiv = overlayProjection.fromLatLngToDivPixel(centerLatLng);\n\n      // Resize the image's div to fit the indicated dimensions.\n      const canvas = this.canvas;\n      canvas.style.left = (centerDiv.x - center.x) + 'px';\n      canvas.style.top = (centerDiv.y - center.y) + 'px';\n      let w = lngDeltaPix;\n      let h = viewSize.y - origin.y;\n      const pixelRatio = this.renderer.pixelRatio;\n      canvas.width = w * pixelRatio;\n      canvas.height = h * pixelRatio;\n      canvas.style.width =  w + 'px';\n      canvas.style.height = h + 'px';\n\n      this.tripLayer.graph = this.graph = this.trip.makeGraph(this.tripLayer);\n\n      this.tripLayer.loadIcons((err) => {\n                          if (err) { console.log(err); }\n                          this.refresh(); });\n\n      const context = canvas.getContext('2d');\n      this.renderer.inDraw = true;\n\n      context.clearRect(0, 0, canvas.width, canvas.height);\n\n      for (let lngWest = nwLatLng.lng(); lngWest < seLatLng.lng(); ) {\n        const lngEast = Math.min(seLatLng.lng(), Math.floor((lngWest + 180) / 360) * 360 + 180);\n        const lngWestWrap = ((lngWest + 180 + 3600) %360) - 180;\n        const lngEastWrap = ((lngEast + 180 + 3600) %360) - 180;\n\n        const nw_world = Utils.latLonToWorld([lngWestWrap, nwLatLng.lat()]);\n        const se_world = Utils.latLonToWorld([lngEastWrap, seLatLng.lat()]);\n        if (se_world.x < nw_world.x) se_world.x += 1;\n\n        const topleft = {\n          x: (origin.x + (lngWest - nwLatLng.lng()) * degToPix) * pixelRatio,\n          y: origin.y * pixelRatio\n        };\n        const bottomright = {\n          x: (origin.x + (lngEast - nwLatLng.lng()) * degToPix) * pixelRatio,\n          y: viewSize.y * pixelRatio\n        };\n\n        const constraints = [\n          { viewer: topleft, world: nw_world },\n          { viewer: bottomright, world: se_world },\n        ];\n        const pinchZoom = this.renderer.pinchZoom;\n        pinchZoom.ignoreLimits = true;\n        pinchZoom.processConstraints(constraints);\n\n        this.renderer.inDraw = false;\n        this.renderer.draw();\n        this.renderer.inDraw = true;\n\n        lngWest = lngEast;\n      }\n    } catch (err) {\n      console.log(err);\n      console.log(err.stack);\n    }\n    this.inDraw = false;\n  }\n\n  onRemove() {\n    if (this.redrawInterval) {\n      clearInterval(this.redrawInterval);\n    }\n    if (this.canvas) {\n      this.canvas.parentNode.removeChild(this.canvas);\n      this.canvas = undefined;\n    }\n  }\n\n  private refreshTimeout = undefined;\n  refresh() {\n    if (this.inDraw) {\n      return;\n    }\n\n    if (this.refreshTimeout) {\n      clearTimeout(this.refreshTimeout);\n    }\n    this.refreshTimeout = setTimeout(() => { this.draw(); }, 100);\n  }\n\n  bounds(): mapTypes.LatLngBoundsLiteral {\n    const boundsWorld = this.graph.bounds();\n    const nw = Utils.worldToLatLon(boundsWorld.min);\n    const se = Utils.worldToLatLon(boundsWorld.max);\n    return {\n      north: nw.lat,\n      south: se.lat,\n      east: se.lon,\n      west: nw.lon\n    };\n  }\n\n  focusOnPoint(p?: LatLngLiteral) {\n    const loc = this.initialLocation;\n\n    const design_ratio = this.trip.width_mm() / this.trip.height_mm();\n\n    const pWorld = (p ? Utils.latLonToWorld([p.lng, p.lat]) : loc);\n    const scale = loc.scale * (p ? 1 / 4 : 1 / 2);\n    const dy = scale / design_ratio;\n    const nw = Utils.worldToLatLon(new Point(pWorld.x - scale, pWorld.y - dy));\n    const se = Utils.worldToLatLon(new Point(pWorld.x + scale, pWorld.y + dy));\n    const bounds = {\n      north: nw.lat,\n      south: se.lat,\n      east: se.lon,\n      west: nw.lon\n    };\n    this.getMap().fitBounds(bounds);\n  }\n\n  setZoom(zoom: number) {\n    this.getMap().setZoom(zoom);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/canvas-overlay.ts","\nimport { Point, IPoint } from './point';\n\nexport class BoundingBox {\n  min?: Point;\n  max?: Point;\n\n  static closestPoint(point: Point, bbox: BoundingBox) {\n    const r = new Point(0, 0);\n\n    for (const i in r) {\n      if (point[i] < bbox.min[i]) {\n        r[i] = bbox.min[i];\n      } else if (point[i] > bbox.max[i]) {\n        r[i] = bbox.max[i];\n      } else {\n        r[i] = point[i];\n      }\n    }\n    return r;\n  };\n\n  static overlaps(a: BoundingBox, b: BoundingBox): boolean {\n    if (a.max.x < b.min.x // a is left of b\n        || a.min.x > b.max.x // a is right of b\n        || a.max.y < b.min.y // a is above b\n        || a.min.y > b.max.y) { // a is below b\n      return false;\n    }\n    return true; // boxes overlap\n  }\n\n  static contains(box: BoundingBox, p: IPoint): boolean {\n    return ((p.x >= box.min.x) && (p.x <= box.max.x)\n            && (p.y >= box.min.y) && (p.y <= box.max.y));\n  }\n\n  constructor(obj?: {min?: IPoint, max?: IPoint}) {\n    if (obj) {\n      if (obj.min) { this.min = new Point(obj.min); }\n      if (obj.max) { this.max = new Point(obj.max); }\n    }\n  }\n  addPoint(p: Point) {\n    this.min = (this.min === undefined ? p : Point.min(this.min, p));\n    this.max = (this.max === undefined ? p : Point.max(this.max, p));\n  }\n\n  addArray(a: Point[]) {\n    for (const p of a) {\n      this.addPoint(p);\n    }\n  }\n\n  overlaps(other: BoundingBox): boolean {\n    return BoundingBox.overlaps(this, other);\n  }\n\n  contains(p: IPoint): boolean { return BoundingBox.contains(this, p); }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/bounding-box.ts","export interface IPoint {\n  x: number;\n  y: number;\n};\n\nexport class Point implements IPoint {\n  x: number;\n  y: number;\n\n  static minus(a: IPoint, b: IPoint) { return new Point(a.x - b.x, a.y - b.y); };\n  static plus(a: IPoint, b: IPoint) { return new Point(a.x + b.x, a.y + b.y); };\n  static times(t: number, a: IPoint) { return new Point(t * a.x, t * a.y); };\n  static min(a: Point, b: Point) {\n    return new Point(Math.min(a.x, b.x), Math.min(a.y, b.y));\n  };\n  static max(a: IPoint, b: IPoint) {\n    return new Point(Math.max(a.x, b.x), Math.max(a.y, b.y));\n  };\n\n  static dist(a: IPoint, b: IPoint) {\n    const dx = a.x - b.x;\n    const dy = a.y - b.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  };\n\n  static norm(a: IPoint): number { return Math.sqrt(a.x * a.x + a.y * a.y); };\n\n  static nearest(target: IPoint, points: Point[]): Point | undefined {\n    let best;\n    let bestDist;\n    for (let p of points) {\n      const dist = Point.dist(p, target);\n      if (best === undefined || dist < bestDist) {\n        bestDist = dist;\n        best = p;\n      }\n    }\n    return best;\n  };\n\n  constructor(x: IPoint | number[] | number, y?: number) {\n    if (typeof(x) === 'number' && typeof(y) === 'number') {\n      this.x = x;\n      this.y = y;\n    } else if (Array.isArray(x)) {\n      this.x = x[0];\n      this.y = x[1];\n    } else if (typeof(x) === 'object') {\n      this.x = x.x;\n      this.y = x.y;\n    }\n    if (this.x === undefined || this.y === undefined) {\n      throw(new Error('invalid point'));\n    }\n  }\n\n  add(p: IPoint) { this.x += p.x; this.y += p.y; return this; };\n  sub(p: IPoint) { this.x -= p.x; this.y -= p.y; return this; };\n  mul(t: number) { this.x *= t; this.y *= t; return this; };\n\n  norm(): number { return Point.norm(this); };\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/point.ts","import { Point, IPoint } from './point';\nimport { TripEdge, TripEdgeProperties } from './trip-edge';\nimport { TripGraph } from './trip-graph';\nimport { TripNode, TripNodeProperties, ITripNode } from './trip-node';\nimport { TripSaved } from './trip-saved';\nimport { TripGraphLayer } from './trip-graph-layer';\nimport * as Tiles from './tiles';\n\nexport class SeqTrip {\n  public _tripData: TripSaved;\n\n  constructor() {\n    this.reset();\n  }\n\n  private static makePlaneIcon(verb: string, placeNode: TripNode): TripNode {\n    const iconNode = new TripNode();\n    iconNode.name = placeNode.dbid + '-' + verb,\n    iconNode.labelIcon = {\n        url: '/ng-map/assets/plane.png',\n        width: 20,\n        autorotate: (Math.PI / 2) * (verb === 'landing' ? 1 : -1),\n        ratioX: .5,\n        ratioY: (verb === 'landing' ? 0 : 1),\n    };\n    iconNode.coord = placeNode.coord;\n    iconNode.properties = {\n        point: false,\n        leaderLine: 'center',\n        dashed: [5, 3],\n        leaderLineWidth: 2,\n        maxLeaderLineLength: 2\n    };\n    return iconNode;\n  }\n\n  places(): TripNode[] {\n    return this._tripData.places;\n  }\n\n  stages(): TripEdge[] {\n    return this._tripData.stages;\n  }\n\n  setLocation(loc: Tiles.Location) { this._tripData.location = loc; }\n  location(): Tiles.Location { return this._tripData.location; }\n\n  width_mm(): number { return this._tripData.width; }\n  height_mm(): number { return this._tripData.height; }\n  pageSizeName(): string { return this._tripData.pageSizeName; }\n  world(): any {\n    if (!this._tripData.world) {\n      this._tripData.world = {};\n    }\n    return this._tripData.world;\n  }\n\n  setSize(name: string, width_mm: number, height_mm: number) {\n    this._tripData.width = width_mm;\n    this._tripData.height = height_mm;\n    this._tripData.pageSizeName = name;\n  }\n\n  defaultRadius(): number { return this._tripData.defaultRadius; }\n\n  defaultTextProp(): any {\n    if (!this._tripData.defaultTextProp) {\n      this._tripData.defaultTextProp = { };\n    }\n    return this._tripData.defaultTextProp;\n  }\n\n  defaultEdgeProp(): TripEdgeProperties {\n    if (!this._tripData.defaultEdgeProp) {\n      this._tripData.defaultEdgeProp =\n        SeqTrip.defaultTrip().defaultEdgeProp;\n    }\n    return this._tripData.defaultEdgeProp;\n  }\n\n  reset() {\n    this._tripData = SeqTrip.defaultTrip();\n  }\n\n  static defaultTrip() : TripSaved {\n    return {\n      places: [],\n      stages: [],\n      additionalPlaces: [],\n      location: { x: .5, y: .5, scale: 1/8 },\n      defaultRadius: 8,\n      width: 128,\n      height: 190,\n      pageSizeName: 'Full page',\n      borderColor: '#fefefe',\n      landColor: '#cecece',\n      seaColor: '#c4e3ff',\n      showRivers: false,\n      world: { },\n      defaultTextProp: {\n        fontSize: 12,\n        font: \"'PT Sans', sans-serif\",\n        stroke: 'rgba(255,255,255,.8)',\n        fill: '#000000'\n      },\n      defaultEdgeProp: {\n        lineWidth: 2,\n        lineColor: '#000000',\n        geom: 'straight'\n      }\n    };\n  }\n\n\n  setPlaces(places: TripNode[]) {\n    // we preserve the same array, in order not to invalidate references\n    this._tripData.places.splice.apply(\n        this._tripData.places,\n        ([0, this._tripData.places.length] as any[]).concat(places));\n    this.updateStages();\n    this.updateLandingsAndTakeoff();\n  }\n\n  public stagesAsDict() : { [id: string] : { [id: string] : TripEdge } } {\n    const edgeStart : { [id: string] : { [id: string] : TripEdge } } = {};\n    for (let s of this._tripData.stages) {\n      if (!(s.from in edgeStart)) {\n        edgeStart[s.from] = { };\n      }\n      edgeStart[s.from][s.to] = s;\n    }\n    return edgeStart;\n  }\n\n  private updateStages() {\n    const places = this._tripData.places;\n    const numStages = places.length - 1;\n    const stages = this._tripData.stages;\n    const newStages = [];\n    const stageDict = this.stagesAsDict();\n\n    for (let i = 1; i <= numStages; ++i) {\n      const fromDbId = places[i - 1].dbid;\n      const toDbId = places[i].dbid;\n\n      if (stageDict[fromDbId] && stageDict[fromDbId][toDbId]) {\n        const existing = stageDict[fromDbId][toDbId];\n        existing.to = places[i].name;\n        newStages.push(existing);\n      } else {\n        newStages.push(new TripEdge({\n          from: places[i - 1].name,\n          to: places[i].name,\n          fromDbId: fromDbId,\n          controlPoints: TripGraph.generateControlPoints(\n              (i >= 2 ? places[i - 2].coord : undefined),\n              places[i - 1].coord,\n              places[i].coord,\n              ((i + 1) < places.length ? places[i + 1].coord : undefined)\n              )\n        }));\n      }\n    }\n    // we preserve the same array, in order not to invalidate references\n    this._tripData.stages.splice.apply(\n      this._tripData.stages,\n      [0, this._tripData.stages.length].concat(newStages));\n  }\n\n  private updateLandingsAndTakeoff() {\n    const index : { [key: string]: number } = { };\n    const additionalPlaces = this._tripData.additionalPlaces;\n\n    for (let i = 0; i < additionalPlaces.length; ++i) {\n      index[additionalPlaces[i].name] = i;\n    }\n\n    const placesToAdd : TripNode[] = [];\n    const placesToRemove: { [key: string]: boolean } = {};\n    const placesToKeep: { [key: string]: boolean } = {};\n\n    const verbs = ['landing', 'takeoff'];\n\n    for (let n of this._tripData.places) {\n      for (let verb of verbs) {\n        const name = n.dbid + '-' + verb;\n        placesToKeep[name] = true;\n        if (n.properties[verb]) {\n          // landing/takeoff wanted\n          if (!(name in index)) {\n            placesToAdd.push(SeqTrip.makePlaneIcon(verb, n));\n          }\n        } else {\n          // landing/takeoff not wanted\n          if (name in index) {\n            placesToRemove[name] = true;\n          }\n        }\n      }\n    }\n\n    const landingTakeoffRegex = /-(landing|takeoff)$/;\n    const newPlaces =\n      additionalPlaces.filter((n : TripNode) => {\n          if (n.name in placesToRemove) {\n            return false;\n          }\n          if (n.name in placesToKeep) {\n            return true;\n          }\n          return n.name.match(landingTakeoffRegex) == null;\n        })\n      .concat(placesToAdd);\n\n    this._tripData.additionalPlaces.splice.apply(\n        this._tripData.additionalPlaces,\n        ([0, this._tripData.additionalPlaces.length] as any[]).concat(newPlaces));\n  }\n\n  nodeRadius(node: TripNode, pixelRatio: number): number {\n    let r = this._tripData.defaultRadius;\n    if (node.properties && node.properties.radius) {\n      r = node.properties.radius;\n    }\n    return r * pixelRatio;\n  };\n\n  makeGraph(tripLayer?: TripGraphLayer): TripGraph {\n    const renameDict = {};\n    const fuseNodePair = function(a, b) {\n      const r : TripNode = TripNode.parse(a);\n      r.name = a.name + ',' + b.name;\n      r.allPlaces = a.allPlaces.concat([ b ]);\n\n      const labels = a.label.split('\\n');\n      if (labels.indexOf(b.label) < 0) {\n        labels.push(b.label);\n      }\n      r.label = labels.join('\\n');\n      renameDict[a.name] = renameDict[b.name] = r.name;\n      return r;\n    };\n\n    const lookup = function(name) {\n      let r = name;\n      while (r in renameDict) {\n        r = renameDict[r];\n      }\n      return r;\n    };\n\n    for (let n of this._tripData.places) {\n      if (!n.name) {\n        throw(new Error('nodes should have names and labels'));\n      }\n    }\n\n    const keptNodes : TripNode[] = [];\n    if (tripLayer) {\n      const pinchZoom = tripLayer.renderer.pinchZoom;\n      const pixelRatio = tripLayer.renderer.pixelRatio;\n\n      for (let node of this._tripData.places) {\n        node.viewerPos = pinchZoom.viewerPosFromWorldPos(node.coord);\n      }\n\n      for (let node of this._tripData.places) {\n        if (!node.label || (node.properties && node.properties.skip)) {\n          continue;\n        }\n\n        const r = this.nodeRadius(node, pixelRatio);\n        let keep = true;\n\n        for (let i = 0; i < keptNodes.length; ++i) {\n          const n = keptNodes[i];\n          const dist = Point.dist(n.viewerPos, node.viewerPos);\n          if (dist < (this.nodeRadius(n, pixelRatio) + r)) {\n            keptNodes[i] = fuseNodePair(n, node);\n            keep = false;\n            break;\n          }\n        }\n        if (keep) {\n          if (!node.properties) {\n            node.properties = {};\n          }\n          const newNode = TripNode.parse(node);\n          newNode.place = node;\n          newNode.allPlaces = [ node ];\n          keptNodes.push(newNode);\n        }\n      }\n    } else {\n      for (let node of this._tripData.places) {\n        const newNode = TripNode.parse(node);\n        newNode.place = node;\n        newNode.allPlaces = [ node ];\n        keptNodes.push(newNode);\n      }\n    }\n\n    const places = this._tripData.places;\n    const placeIndex : { [key: string]: number } = {};\n    for (let i = 0; i < places.length; ++i) {\n      const n = places[i];\n      placeIndex[n.name] = i;\n    }\n\n    const result = new TripGraph(undefined, this._tripData.defaultEdgeProp);\n\n    for (let n of keptNodes) {\n      result.nodes[n.name] = n;\n    }\n\n    this.updateLandingsAndTakeoff();\n    for (let n of this._tripData.additionalPlaces) {\n      result.nodes[n.name] = n;\n    }\n\n    for (let edge of this._tripData.stages) {\n      if (edge.properties.hidden || places[placeIndex[edge.from]].isSkipped()) {\n        continue;\n      }\n      const nameFrom = lookup(edge.from);\n\n      let to = placeIndex[edge.to];\n      while (to < places.length && places[to].isSkipped()) {\n        ++to;\n      }\n      if (to >= places.length || places[to].isSkipped()) {\n        continue;\n      }\n      const nameTo = lookup(places[to].name);\n\n      if (nameFrom !== nameTo) {\n        const newEdge = TripGraphLayer.shallowCopy(edge);\n        newEdge.from = nameFrom;\n        newEdge.to = nameTo;\n        newEdge.originalEdge = edge;\n        result.edges.push(newEdge);\n      }\n    }\n    return result;\n  }\n\n  save(): TripSaved { return this._tripData; }\n\n  load(data: any) {\n    if (!data || !data.places || !data.stages) {\n      throw new Error('no data');\n    }\n\n    const newTripData = data as TripSaved;\n\n    const parseNodeArray = (places: TripNode[]) => {\n      for (let i = 0; i < places.length; ++i) {\n        places[i] = TripNode.parse(places[i]);\n      }\n    };\n\n    parseNodeArray(newTripData.places);\n    const edges = newTripData.stages;\n    for (let i = 0; i < edges.length; ++i) {\n      edges[i] = new TripEdge(edges[i]);\n    }\n\n    parseNodeArray(newTripData.additionalPlaces);\n\n    this._tripData = newTripData;\n    this.defaultEdgeProp();\n    this.setSize(data.pageSizeName, data.width, data.height);\n  };\n\n  seaColor() : string { return this._tripData.seaColor; }\n  setSeaColor(c: string) {\n    this._tripData.seaColor = c;\n  }\n  landColor() : string {\n    return this._tripData.landColor;\n  }\n  setLandColor(c: string) { this._tripData.landColor = c; }\n  borderColor() : string { return this._tripData.borderColor; }\n  setBorderColor(c: string) { this._tripData.borderColor = c; }\n  showRivers() : boolean { return this._tripData.showRivers; }\n  toggleShowRiver() { this._tripData.showRivers = !this._tripData.showRivers; }\n\n  placeByName(name: string): TripNode {\n    for (let n of this._tripData.places) {\n      if (name === n.name) {\n        return n;\n      }\n    }\n  }\n\n  markFirstLocation() {\n    let first = true;\n    for (let node of this._tripData.places) {\n      if (!node.label || (node.properties && node.properties.skip)) {\n        continue;\n      }\n      if (first) {\n        node.properties.firstVisited = true;\n      } else if ('firstVisited' in node.properties) {\n        delete node.properties.firstVisited;\n      }\n      first = false;\n    }\n  }\n\n  clearUserPlacements() {\n    for (let n of this._tripData.additionalPlaces\n         .concat(this._tripData.places)) {\n      if (n.properties && n.properties.userPlacement) {\n        delete n.properties.userPlacement;\n      }\n    }\n  }\n\n  saveUserPlacements() {\n    for (let n of this._tripData.additionalPlaces\n         .concat(this._tripData.places)) {\n      if (!n.properties) {\n        n.properties = { };\n      }\n      if (n.properties.labelCoord) {\n        n.properties.userPlacement = n.properties.labelCoord;\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/seq-trip.ts","import {IPoint, Point} from './point';\n\nexport interface Location {\n  x: number,\n  y: number,\n  scale: number\n}\n\nexport interface CanvasTilesRendererParams {\n  url?: string;\n  initialLocation?: Location;\n  canvas: HTMLCanvasElement;\n  onLocationChange?: (renderer: CanvasTilesRenderer) => void;\n  noInteraction?: boolean;\n  clearBorder?: boolean;\n}\n\nexport declare class CanvasTilesRenderer {\n  pixelRatio: number;\n  layers: any[];\n  pinchZoom: PinchZoom;\n  canvas: HTMLCanvasElement;\n  location: Location;\n  inDraw: boolean;\n\n  constructor (parameters: CanvasTilesRendererParams);\n\n  addLayer(l: any);\n  refresh();\n  refreshIfNotMoving();\n  draw();\n\n  setLocation(loc: Location);\n  getLocation(): Location;\n  loadImage(url: string,\n            success: (data: any) => void,\n            failure: (err: string) => void);\n}\n\nexport interface Constraint {\n  viewer: { x: number, y: number };\n  world: { x: number, y: number };\n}\n\nexport declare class PinchZoom {\n  touchEventHandlers : any[];\n  maxX?: number;\n  maxY?: number;\n  ignoreLimits?: boolean;\n\n  viewerPosFromWorldPos(x : IPoint | number[] | number, y? : number) : Point;\n  worldPosFromViewerPos(x : IPoint | number[] | number, y? : number) : Point;\n  worldDistanceFromViewerDistance(dist: number): number;\n  processConstraints(constraints: Constraint[]);\n\n  locked: boolean;\n}\n\ndeclare var Utils: any;\n\nexport var T = {\n  CanvasTilesRenderer: CanvasTilesRenderer,\n  PinchZoom: PinchZoom, \n  Utils: Utils\n};\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/tiles.ts","import { Point } from './point';\n\nexport interface TripEdgeProperties {\n  hidden?: boolean;\n  lineColor?: string;\n  lineWidth?: number;\n  _lineWidth?: number; // used as backup when selecting an edge\n  dashed?: number[];\n  travelMean?: string;\n  geom?: string;\n}\n\nexport class TripEdge {\n  from: string;\n  to: string;\n  controlPoints: Point[];\n  drawMiddlePoint?: boolean;\n  originalEdge?: TripEdge;\n  fromDbId: number;\n  properties: TripEdgeProperties;\n\n  constructor(obj?: any) {\n    this.properties = { };\n\n    if (obj) {\n      if (obj.controlPoints) {\n        this.controlPoints = [];\n        for (let i = 0; i < obj.controlPoints.length; ++i) {\n          this.controlPoints[i] = new Point(obj.controlPoints[i]);\n        }\n      }\n      if (obj.originalEdge) {\n        this.originalEdge = new TripEdge(obj.originalEdge);\n      }\n      for (let m of ['from', 'to', 'drawMiddlePoint', 'properties',\n            'fromDbId' ]) {\n        if (m in obj) {\n          this[m] = obj[m];\n        }\n      }\n    }\n  }\n\n  propagateToOriginal() {\n    if (this.originalEdge) {\n      for (let field of ['controlPoints', 'drawMiddlePoint' ]) {\n        if (field in this) {\n          this.originalEdge[field] = this[field];\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/trip-edge.ts","import { TripGraph } from './trip-graph';\nimport { TripEdge, TripEdgeProperties } from './trip-edge';\nimport { TripNode, TripNodeProperties } from './trip-node';\nimport { BoundingBox } from './bounding-box';\nimport { Size2D } from './size2d';\nimport { TripSaved } from './trip-saved';\nimport { Point, IPoint } from './point';\nimport { T, Location, CanvasTilesRenderer, CanvasTilesRendererParams, PinchZoom } from './tiles';\n\ndeclare const d3: any;\ndeclare const Bezier: any;\n\nexport interface TripGraphLayerParams {\n  renderer: CanvasTilesRenderer;\n  graph: TripGraph;\n  defaultRadius?: number;\n  defaultFontSize?: number;\n  defaultEdgeProp?: TripEdgeProperties;\n  hideLabels?: boolean;\n};\n\nexport class TripGraphLayer {\n  public graph: TripGraph;\n  public defaultTextProp: TripNodeProperties;\n  public defaultEdgeProp: TripEdgeProperties;\n\n  public renderer: CanvasTilesRenderer;\n  public defaultRadius: number;\n  private icons: any;\n\n  private iconsToLoad: number;\n  private failedIcons: number;\n  private hideLabels: boolean;\n\n  constructor(private params: TripGraphLayerParams) {\n    this.renderer = params.renderer;\n    this.defaultRadius = params.defaultRadius || 6;\n    this.icons = {};\n    this.defaultTextProp = {\n      fontSize: params.defaultFontSize || 20,\n      stroke: 'rgba(255,255,255,.8)',\n      fill: '#000000'\n    };\n    this.defaultEdgeProp =\n      params.defaultEdgeProp || { lineWidth: 1, lineColor: '#000000' };\n    this.hideLabels = !!params.hideLabels;\n\n    if (!this.renderer) {\n      throw(new Error('TripGraphLayer: no renderer !'));\n    }\n    this.graph = params.graph || new TripGraph(undefined, this.defaultEdgeProp);\n  }\n\n  draw(canvas: any, pinchZoom: any, bboxTopLeft: any, bboxBottomRight: any) {\n    const graph = this.graph;\n    const context = canvas.getContext('2d');\n    const pixelRatio = this.renderer.pixelRatio;\n\n    for (let e of graph.edges) {\n      this.drawEdge(context, pinchZoom, e, pixelRatio, 'curve');\n    }\n    for (let e of graph.edges) {\n      this.drawEdge(context, pinchZoom, e, pixelRatio, 'mark');\n    }\n\n    context.setLineDash([]);\n\n    for (let i in graph.nodes) {\n      const node = graph.nodes[i];\n      node.viewerPos = pinchZoom.viewerPosFromWorldPos(node.coord);\n    }\n\n    for (let i in graph.nodes) {\n      const node = graph.nodes[i];\n      this.drawNodePoint(context, pinchZoom, node);\n    }\n    for (let i in graph.nodes) {\n      if (!this.hideLabels || i.match(/-(takeoff)|(landing)$/)) {\n        const node = graph.nodes[i];\n        this.drawLeaderLine(context, pinchZoom, node);\n      }\n    }\n    for (let i in graph.nodes) {\n      if (!this.hideLabels || i.match(/-(takeoff)|(landing)$/)) {\n        const node = graph.nodes[i];\n        this.drawNodeLabel(context, pinchZoom, node);\n      }\n    }\n  }\n\n  drawEdge(context: CanvasRenderingContext2D, pinchZoom: any,\n           edge: TripEdge, pixelRatio: number, restrict: string) {\n    this.setEdgeStrokeStyle(context, edge);\n\n    const bezierCurves = this.graph.bezier(edge);\n    for (let bezier of bezierCurves ) {\n      this.drawBezier(context, pinchZoom, bezier, pixelRatio, edge, restrict);\n    }\n    if (restrict != 'mark') {\n      if (bezierCurves.length > 1 && edge.drawMiddlePoint) {\n        for (let i in bezierCurves) {\n          const p = pinchZoom.viewerPosFromWorldPos(bezierCurves[i].points[3]);\n          const radius = 5 * pixelRatio;\n          context.beginPath();\n          context.arc(p.x, p.y, radius, 0, 2 * Math.PI, false);\n          context.fillStyle = '#000000';\n          context.fill();\n        }\n      }\n    }\n  }\n\n  drawBezier(context: CanvasRenderingContext2D, pinchZoom: any,\n                    curve: any, pixelRatio: number,\n                    edge: TripEdge, restrict?: string) {\n    context.save();\n\n    const ptArray = new Array(8);\n    const points = curve.points;\n    for (let j = 0; j < 4; ++j) {\n      const p = pinchZoom.viewerPosFromWorldPos(points[j]);\n      ptArray[j * 2] = p.x;\n      ptArray[j * 2 + 1] = p.y;\n    }\n\n    const bezier = new Bezier(ptArray);\n    const l = bezier.length();\n    const numArrows = Math.min(2, Math.floor(l / (pixelRatio * 40)));\n\n    const viewcurve = bezier.points;\n\n    if (restrict != 'mark') {\n      context.beginPath();\n      context.moveTo(viewcurve[0].x, viewcurve[0].y);\n      context.bezierCurveTo(\n          viewcurve[1].x, viewcurve[1].y,\n          viewcurve[2].x, viewcurve[2].y,\n          viewcurve[3].x, viewcurve[3].y);\n\n      context.stroke();\n    }\n\n    for (let i = 1; i < numArrows; ++i) {\n      const t = i / numArrows;\n      let p = new Point(bezier.get(t));\n      const n = new Point(bezier.normal(t));\n      const tangent = new Point(bezier.derivative(t));\n\n      this.drawEdgeMark(p, n, tangent, context, pixelRatio, edge, restrict);\n    }\n    context.restore();\n  }\n\n  drawEdgeMark(p: Point, n: Point, tangent: Point,\n               context: CanvasRenderingContext2D, pixelRatio: number,\n               edge: TripEdge, restrict: string) {\n    const mean = this.edgeProperty(edge, 'travelMean');\n    switch(mean) {\n      case 'Bike':\n      case 'Boat':\n      case 'Bus':\n      case 'Car':\n      case 'Helicopter':\n      case 'Plane':\n      case 'Train':\n      case 'Walk':\n        if (restrict != 'curve') {\n          this.drawEdgeMarkIcon(p, n, tangent, context, pixelRatio, edge);\n        }\n        break;\n      case 'Unspecified':\n      default:\n        if (restrict != 'mark') {\n          TripGraphLayer.drawEdgeMarkTriangle(p, n, tangent, context, pixelRatio);\n        }\n    }\n  }\n\n  static drawEdgeMarkTriangle(p: Point, n: Point, tangent: Point,\n                      context: CanvasRenderingContext2D, pixelRatio: number) {\n    const size = 10 * pixelRatio;\n    tangent.mul(size / tangent.norm());\n    p = Point.plus(p, Point.times(.5, tangent));\n    const base = Point.minus(p, tangent);\n\n    context.beginPath();\n    context.moveTo(base.x + (size / 2) * n.x, base.y + (size / 2) * n.y);\n    context.lineTo(p.x, p.y);\n    context.lineTo(base.x - (size / 2) * n.x, base.y - (size / 2) * n.y);\n    context.closePath();\n    context.fill();\n  }\n\n  drawEdgeMarkIcon(p: Point, n: Point, tangent: Point,\n                   context: CanvasRenderingContext2D, pixelRatio: number,\n                   edge: TripEdge) {\n    context.fillStyle = '#fff';\n    context.setLineDash([]);\n    context.lineWidth = 1 * pixelRatio;\n\n    const radius = 10 * pixelRatio;\n    const arrowLength = 6 * pixelRatio;\n\n    tangent = tangent.mul(1 / tangent.norm());\n    const head = Point.plus(p, Point.times((radius + arrowLength) / 2, tangent));\n    const center = Point.minus(p, Point.times((radius + arrowLength) / 2, tangent));\n    const circleBase = Point.plus(center, Point.times(radius, tangent));\n    const delta = (new Point(-tangent.y, tangent.x)).mul(4 * pixelRatio);\n    const circleStart = Point.plus(circleBase, delta);\n    const circleEnd = Point.minus(circleBase, delta);\n\n    const p1 = Point.minus(circleStart, center);\n    const angle1 = Math.atan2(p1.y, p1.x);\n    const p2 = Point.minus(circleEnd, center);\n    const angle2 = Math.atan2(p2.y, p2.x);\n\n    context.beginPath();\n    context.arc(center.x, center.y, radius, angle1, angle2);\n    context.lineTo(head.x, head.y);\n    context.closePath();\n    context.fill();\n    context.stroke();\n\n    context.fillStyle = '#000';\n    context.textAlign = 'center';\n    context.textBaseline=\"middle\"; \n    context.font = \"10px FontAwesome\";\n\n    const icons = {\n      'Bike': \"\\uf206\",\n      'Boat': \"\\uf21a\",\n      'Bus': \"\\uf207\",\n      'Car': \"\\uf1b9\",\n      'Helicopter': 'H',\n      'Plane': \"\\uf072\",\n      'Train': \"\\uf238\",\n      'Walk': \"\\uf183\"\n    }\n\n    const mean = this.edgeProperty(edge, 'travelMean');\n    context.fillText(icons[mean], center.x, center.y);\n  }\n\n  edgeProperty(edge: TripEdge, prop: string) {\n    return edge.properties[prop] || this.defaultEdgeProp[prop];\n  }\n\n  setEdgeStrokeStyle(context: CanvasRenderingContext2D, edge: TripEdge) {\n    let style = this.edgeProperty(edge, 'lineColor');\n    context.strokeStyle = style;\n    context.fillStyle = style;\n    context.lineWidth = this.renderer.pixelRatio * (\n        this.edgeProperty(edge, 'lineWidth'));\n    this.setDashStyle(context, this.edgeProperty(edge, 'dashed'));\n  };\n\n  nodeRadius(node: TripNode): number {\n    let r = this.defaultRadius;\n    if (node.properties && node.properties.radius) {\n      r = node.properties.radius;\n    }\n    return r * this.renderer.pixelRatio;\n  };\n\n  drawNodePoint(context: CanvasRenderingContext2D, pinchZoom: any, node: TripNode) {\n    if (node.properties && node.properties.point == false) {\n      return;\n    }\n    let pos = node.viewerPos;\n    this.drawPoint(context, pos, this.renderer.pixelRatio, node.properties || {});\n  }\n\n  drawNodeLabel(context: CanvasRenderingContext2D, pinchZoom: any, node: TripNode) {\n    if (node.label || node.labelIcon) {\n      let pos = pinchZoom.viewerPosFromWorldPos(\n        (node.properties && node.properties.labelCoord ?\n         node.properties.labelCoord : node.coord));\n      if (node.label) {\n        TripGraphLayer.drawText(context, node.label, pos,\n                 this.renderer.pixelRatio, node.properties || {},\n                 this.defaultTextProp);\n      }\n      if (node.labelIcon && node.labelIcon.url in this.icons) {\n        if (node.labelIcon.autorotate != undefined && node.properties.labelCoord) {\n          let coord = new Point(node.coord);\n          node.labelIcon.angle = node.labelIcon.autorotate + Math.atan2(\n              coord.y - node.properties.labelCoord.y,\n              coord.x - node.properties.labelCoord.x);\n        }\n        TripGraphLayer.drawIcon(context, this.icons[node.labelIcon.url], node.labelIcon,\n                 pos, this.renderer.pixelRatio);\n      }\n      if (node.properties && node.properties.frame && node.label) {\n        let size = TripGraphLayer.measureText(\n            context, node.label,\n            this.renderer.pixelRatio, node.properties || {},\n            this.defaultTextProp);\n        context.strokeStyle = node.properties.frame;\n        size.width += 3 * this.renderer.pixelRatio;\n        size.height += 3 * this.renderer.pixelRatio;\n        context.rect(pos.x - size.width / 2,\n                     pos.y - size.height / 2,\n                     size.width, size.height);\n        context.stroke();\n      }\n    }\n  }\n\n  setDashStyle(context: CanvasRenderingContext2D, dashed?: number[]) {\n    let scaled = [];\n    if (dashed) {\n      for (let entry of dashed) {\n        scaled.push(this.renderer.pixelRatio * entry);\n      }\n    }\n\n    context.setLineDash(scaled);\n  }\n\n  drawLeaderLine(context: CanvasRenderingContext2D, pinchZoom: any, node: TripNode) {\n    if (node.properties && node.properties.leaderLineAnchor) {\n      let pixelRatio = this.renderer.pixelRatio;\n      let p = pinchZoom.viewerPosFromWorldPos(node.properties.leaderLineAnchor);\n      context.lineWidth = (node.properties.leaderLineWidth || 1) * pixelRatio;\n      context.beginPath();\n\n      let pos = pinchZoom.viewerPosFromWorldPos(node.coord);\n      let radius = this.nodeRadius(node);\n      let closest = pinchZoom.viewerPosFromWorldPos(\n          BoundingBox.closestPoint(new Point(node.coord), node.properties.labelBbox));\n\n      const maxLength =\n        (node.properties\n         && node.properties.maxLeaderLineLength !== undefined\n         ? node.properties.maxLeaderLineLength * pixelRatio : 3 * radius); \n\n      if (Point.dist(closest, pos) > maxLength) {\n        if (node.properties.dashed) {\n          this.setDashStyle(context, node.properties.dashed);\n        }\n\n        context.moveTo(p.x, p.y);\n        context.lineTo(pos.x, pos.y);\n        context.strokeStyle = node.properties.leaderLineColor || '#000000';\n        context.stroke();\n        if (node.properties.dashed) {\n          context.setLineDash([]);\n        }\n      }\n    }\n  };\n\n  drawPoint(context: CanvasRenderingContext2D, p: IPoint,\n            pixelRatio: number, properties: TripNodeProperties) {\n      context.strokeStyle = \"rgba(0,0,0,1)\";\n      context.fillStyle = \"rgba(255,255,255,1)\";\n      context.lineWidth = 2 * pixelRatio;\n      context.beginPath();\n      const radius = (properties.radius || this.defaultRadius) * pixelRatio;\n      context.arc(p.x, p.y, radius, 0, 2 * Math.PI, false);\n      context.stroke();\n      context.fill();\n\n      let style = properties.markStyle;\n      if (!style && properties.firstVisited) {\n        style = 'first';\n      }\n      if (style === 'first') {\n        context.fillStyle = \"rgba(0, 0, 0, 1)\";\n        context.beginPath();\n        context.arc(p.x, p.y, radius * .6, 0, 2 * Math.PI, false);\n        context.fill();\n      }\n  };\n\n  static measureText(context: CanvasRenderingContext2D, text: string,\n                     pixelRatio: number, properties: TripNodeProperties,\n                     defaultTextProp: TripNodeProperties) {\n    let lines = text.split('\\n');\n    let size = TripGraphLayer.setTextStyle(\n        context, pixelRatio, properties, defaultTextProp);\n\n    let r = { width: 0, height: size * lines.length };\n\n    for (let i in lines) {\n      r.width = Math.max(r.width, context.measureText(lines[i]).width);\n    }\n\n    return r;\n  }\n\n  static setTextStyle(context: CanvasRenderingContext2D, pixelRatio: number,\n                     properties: TripNodeProperties,\n                     defaultTextProp: TripNodeProperties): number {\n    properties = properties || {};\n    let fontSize = properties.fontSize || defaultTextProp.fontSize;\n    fontSize *= pixelRatio;\n    context.font = fontSize + 'px ' + (properties.font || \"'PT Sans', sans-serif\");\n    context.strokeStyle = properties.stroke || defaultTextProp.stroke ;\n    context.lineWidth = (properties.haloWidth || 4) * pixelRatio;\n    context.fillStyle = properties.fill || defaultTextProp.fill;\n    return parseInt(''+ fontSize);\n  };\n\n  static drawText(context: CanvasRenderingContext2D, text: string,\n                  pos: IPoint, pixelRatio: number,\n                  properties: TripNodeProperties,\n                  defaultTextProp: TripNodeProperties) {\n    let offset = (properties.textOffset != undefined ? properties.textOffset: 20)\n      * pixelRatio;\n\n    let dx, dy;\n    let placement = ((properties.textPlacement || 'S') + '').toUpperCase();\n\n    // horizontal settings\n    switch (placement) {\n      default:\n      case 'C':\n      case 'N':\n      case 'S':\n        context.textAlign = 'center';\n        dx = 0;\n        break;\n\n      case 'E':\n      case 'NE':\n        context.textAlign = 'start';\n        dx = offset;\n        break;\n\n      case 'O':\n      case 'W':\n        context.textAlign = 'end';\n        dx = -offset;\n        break;\n    }\n\n    // vertical settings\n    switch (placement) {\n      case 'C':\n      case 'E':\n      case 'W':\n      case 'O':\n        context.textBaseline = 'middle';\n        dy = 0;\n        break;\n\n      case 'N':\n      case 'NE':\n        context.textBaseline = 'bottom';\n        dy = -offset;\n        break;\n\n      default:\n      case 'S':\n        context.textBaseline = 'top';\n        dy = offset;\n        break;\n    }\n    let x: number = pos.x + dx;\n    let y: number = pos.y + dy;\n\n    let h: number = TripGraphLayer.setTextStyle(\n        context, pixelRatio, properties, defaultTextProp);\n\n    let lines = text.split('\\n');\n\n    context.shadowBlur = 3 * pixelRatio;\n    context.shadowColor = '#ffffff';\n\n    context.lineWidth = 2 * pixelRatio;\n\n    let vshift: number = (lines.length - 1) / 2;\n    for (let i = 0 ; i < lines.length; ++i) {\n      let line_y: number = y + (i - vshift) * h;\n      context.strokeText(lines[i], x, line_y);\n      context.fillText(lines[i], x, line_y);\n    }\n\n    context.shadowColor = 'transparent';\n  }\n\n  static drawIcon(context:CanvasRenderingContext2D, iconData: any, icon: any,\n           pos: IPoint, pixelRatio:number) {\n    if (!iconData) {\n      return;\n    }\n    let width = (icon.width ? icon.width * pixelRatio: 16 * pixelRatio);\n    let height = (icon.height ? icon.height * pixelRatio: width);\n    let ratioX = 'ratioX' in icon ? icon.ratioX : .5;\n    let ratioY = 'ratioY' in icon ? icon.ratioY : .5;\n    let dx = width * ratioX;\n    let dy = height * ratioY;\n    if (icon.angle) {\n      context.save();\n      context.translate(pos.x, pos.y);\n      context.rotate(icon.angle);\n      context.drawImage(iconData, -dx, -dy, width, height);\n      context.restore();\n    } else {\n      context.drawImage(iconData, pos.x - dx, pos.y - dy, width, height);\n    }\n  }\n\n  getLabelIconSize(context: CanvasRenderingContext2D, node: TripNode): Size2D {\n    let pixelRatio = this.renderer.pixelRatio;\n    let labelIcon = node.labelIcon;\n\n    return {\n      width: (labelIcon.width || 16) * pixelRatio,\n      height: (labelIcon.height || labelIcon.width || 16) * pixelRatio,\n    };\n  };\n\n  // Modify TripGraph to place labels at appropriate places\n  placeLabels(context: CanvasRenderingContext2D) {\n    let pinchZoom = this.renderer.pinchZoom;\n    let pixelRatio = this.renderer.pixelRatio;\n    let labelArray = [];\n    let anchorArray = [];\n    for (let i in this.graph.nodes) {\n      let node = this.graph.nodes[i];\n      if (!node.label && !node.labelIcon) {\n        continue;\n      }\n      let pos = pinchZoom.viewerPosFromWorldPos(node.coord);\n      let radius = this.defaultRadius;\n      if (node.properties && node.properties.radius) {\n        radius = node.properties.radius;\n      }\n      anchorArray.push({\n        x: pos.x,\n        y: pos.y,\n        r: radius * pixelRatio\n      });\n      let margin = 2 * pixelRatio;\n\n      let size, name;\n      if (node.label) {\n        size = TripGraphLayer.measureText(context, node.label, pixelRatio,\n                                          node.properties, this.defaultTextProp);\n        name = node.label;\n      } else if (node.labelIcon) {\n        size = this.getLabelIconSize(context, node);\n        size.width *= 1.4;\n        size.height *= 1.4;\n        name = 'icon:' + node.labelIcon.url;\n      }\n      let initialPos = pos;\n      if (node.properties && node.properties.userPlacement) {\n        initialPos = pinchZoom.viewerPosFromWorldPos(\n            node.properties.userPlacement);\n      }\n\n      const newLabel = {\n        x: initialPos.x,\n        y: initialPos.y,\n        name: name,\n        width: size.width + 2 * margin,\n        height: size.height + 2 * margin,\n        node: node,\n        userPlacement: (node.properties && node.properties.userPlacement ?\n                        initialPos : undefined)\n      };\n\n      labelArray.push(newLabel);\n    }\n    let labeler = d3.labeler()\n      .label(labelArray)\n      .anchor(anchorArray)\n      .width(this.renderer.canvas.width)\n      .height(this.renderer.canvas.height);\n\n    let originalEnergy = labeler.alt_energy();\n    let me = this;\n    let bezierCurves = [];\n    let bezierBbox = [];\n    let bezierLUT = [];\n    for (let e in this.graph.edges) {\n      let curves = this.graph.bezier(this.graph.edges[e]);\n      for (let i in curves) {\n        let curve = curves[i];\n        bezierCurves.push(curve);\n        let bbox = curve.bbox();\n        bezierBbox.push({\n          min: pinchZoom.viewerPosFromWorldPos(bbox.x.min, bbox.y.min),\n          max: pinchZoom.viewerPosFromWorldPos(bbox.x.max, bbox.y.max)\n        });\n        let lut = curve.getLUT(30);\n        let transformedLut = [];\n        for (let i in lut) {\n          transformedLut.push(pinchZoom.viewerPosFromWorldPos(lut[i]));\n        }\n        bezierLUT.push(transformedLut);\n      }\n    }\n\n    labeler.alt_energy(function(index, lab, anc) {\n      let curveOverlaps = 0;\n\n      let box = labeler.boxOfLabel(index);\n      let labBbox = new BoundingBox();\n      labBbox.addPoint(new Point(box.left, box.top));\n      labBbox.addPoint(new Point(box.right, box.bottom));\n\n      for (let i in bezierCurves) {\n        if (!BoundingBox.overlaps(bezierBbox[i], labBbox)) {\n          continue;\n        }\n\n        let lut = bezierLUT[i];\n        for (let j in lut) {\n          if (labBbox.contains(lut[j])) {\n            curveOverlaps++;\n          }\n        }\n      }\n      let energy = curveOverlaps * 10 + originalEnergy(index);\n\n      const userPlacement = labelArray[index].userPlacement;\n      if (userPlacement) {\n        const userPrefEnergy = Point.dist(userPlacement, labelArray[index]);\n        energy += userPrefEnergy ;\n      }\n\n      return energy;\n    });\n\n    let finalEnergy = labeler.start(5000, 1);\n\n    for (let i in labelArray) {\n      let entry = labelArray[i];\n      if (!entry.node.properties) {\n        entry.node.properties = {};\n      }\n      let properties = entry.node.properties;\n      let halfSize = Point.times(1/2, new Point(entry.width, entry.height));\n      properties.labelCoord = pinchZoom.worldPosFromViewerPos(entry);\n      properties.labelBbox = {\n        min: pinchZoom.worldPosFromViewerPos(Point.minus(entry, halfSize)),\n        max: pinchZoom.worldPosFromViewerPos(Point.plus(entry, halfSize))\n      };\n\n      TripGraph.placeLeaderLine(entry.node);\n      properties.textPlacement = 'C';\n      properties.textOffset = 0;\n    }\n  }\n\n  static shallowCopy( original: any ): any {\n      // First create an empty object with\n      // same prototype of our original source\n      let clone = Object.create( Object.getPrototypeOf( original ) ) ;\n\n      let i , keys = Object.getOwnPropertyNames( original ) ;\n\n      for ( i = 0 ; i < keys.length ; i ++ )\n      {\n          // copy each property into the clone\n          Object.defineProperty( clone , keys[ i ] ,\n              Object.getOwnPropertyDescriptor( original , keys[ i ] )\n          ) ;\n      }\n\n      return clone ;\n  }\n\n  makeFusedGraph(graph: TripGraph): TripGraph {\n    graph = graph || this.graph;\n\n    let renameDict = {};\n    let fuseNodePair = function(a, b) {\n      let r = TripGraphLayer.shallowCopy(a);\n      r.name = a.name + ',' + b.name;\n      r.label = a.label + '\\n' + b.label;\n      renameDict[a.name] = renameDict[b.name] = r.name;\n      return r;\n    };\n\n    let lookup = function(name) {\n      let r = name;\n      while (r in renameDict) {\n        r = renameDict[r];\n      }\n      return r;\n    };\n\n    let pinchZoom = this.renderer.pinchZoom;\n    for (let i in graph.nodes) {\n      let node = graph.nodes[i];\n      node.viewerPos = pinchZoom.viewerPosFromWorldPos(node.coord);\n    }\n\n    let keptNodes = [];\n    for (let j in graph.nodes) {\n      let node = graph.nodes[j];\n\n      if (!node.label) {\n        continue;\n      }\n\n      let r = this.nodeRadius(node);\n      let keep = true;\n\n      for (let i in keptNodes) {\n        const n = keptNodes[i];\n\n        const dist = Point.dist(n.viewerPos, node.viewerPos);\n        if (dist < (this.nodeRadius(n) + r)) {\n          keptNodes[i] = fuseNodePair(n, node);\n          keep = false;\n          break;\n        }\n      }\n      if (keep) {\n        keptNodes.push(node);\n      }\n    }\n\n    for (let j in graph.nodes) {\n      const node = graph.nodes[j];\n\n      if (!node.label) {\n        keptNodes.push(node);\n      }\n    }\n\n\n    const result = new TripGraph(undefined, this.defaultEdgeProp);\n\n    for (let i in keptNodes) {\n      const n = keptNodes[i];\n      result.nodes[n.name] = n;\n    }\n\n    for (let i in graph.edges) {\n      const edge = graph.edges[i];\n\n      const na = lookup(edge.from);\n      const nb = lookup(edge.to);\n\n      if (na != nb) {\n        let newEdge = TripGraphLayer.shallowCopy(edge);\n        newEdge.from = na;\n        newEdge.to = nb;\n        newEdge.originalEdge = edge;\n        result.edges.push(newEdge);\n      }\n    }\n\n    return result;\n  };\n\n  forEachNode(cb: (node: TripNode) => void) {\n    for (let i in this.graph.nodes) {\n      cb(this.graph.nodes[i]);\n    }\n  }\n\n  loadIcons(cb: (err?: Error) => void) {\n    const me = this;\n    this.iconsToLoad = 1;\n    this.failedIcons = 0;\n    const iconLoaded = function() {\n      me.iconsToLoad--;\n      if (cb && me.iconsToLoad === 0) {\n        if (me.failedIcons > 0) {\n          cb(new Error(me.failedIcons + ' icons failed to load.'));\n        } else {\n          cb();\n        }\n      }\n    };\n\n    this.forEachNode(function(node) {\n      if (node.labelIcon) {\n        const url = node.labelIcon.url;\n        me.iconsToLoad++;\n        me.renderer.loadImage(node.labelIcon.url,\n          function(data) {\n            me.icons[url] = data;\n            iconLoaded();\n          },\n          function(err) {\n            console.log('Failed to load: ' + url);\n            me.failedIcons++;\n            iconLoaded();\n          }\n        );\n      }\n    });\n\n    iconLoaded();\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/trip-graph-layer.ts","import { Point, IPoint } from './point';\nimport { TripNode } from './trip-node';\nimport { TripEdge, TripEdgeProperties } from './trip-edge';\n\nimport { BoundingBox } from './bounding-box';\n\ndeclare var d3: any;\ndeclare var Bezier: any;\n\nexport class TripGraph {\n  nodes: { [name: string]: TripNode };\n  edges: TripEdge[];\n  defaultEdgeProp: TripEdgeProperties;\n\n  static generateControlPoints(\n      p0: Point, p1: Point, p2: Point, p3: Point): Point[] {\n    const delta = Point.minus(p2, p1).mul(1 / 3);\n    const norm = new Point(-delta.y, delta.x);\n    return [\n      Point.plus(Point.plus(p1, delta), norm),\n      Point.plus(Point.minus(p2, delta), norm)\n    ];\n  };\n\n  static bezierFromPoints(points: IPoint[]): any {\n    const result = [];\n    for (let i = 0; i < 4; ++i) {\n      result.push(points[i].x);\n      result.push(points[i].y);\n    }\n    return new Bezier(result);\n  };\n\n  static bezierThroughPoints(points: IPoint[]) {\n    const result = [];\n    const t = .2;\n    for (let i = 1; i < points.length; ++i) {\n      const prev = (i === 1 ? points[i - 1] : points[i - 2]);\n      const a = points[i - 1];\n      const b = points[i];\n      const next = (i === (points.length - 1) ? points[i] : points[i + 1]);\n      result.push(TripGraph.bezierFromPoints([\n        a,\n        Point.plus(a, Point.times(t, Point.minus(b, prev))),\n        Point.plus(b, Point.times(t, Point.minus(a, next))),\n        b]));\n    }\n    return result;\n  };\n\n  static placeLeaderLine(node: TripNode) {\n    if (!node.properties) {\n      node.properties = {};\n    }\n    const placement = node.properties.leaderLine || 'bestAnchor';\n\n    const bbox = node.properties.labelBbox;\n    let anchor;\n    if (placement === 'center') {\n      const  width = bbox.max.x - bbox.min.x;\n      const  center = new Point((bbox.min.x + bbox.max.x) / 2,\n                                (bbox.min.y + bbox.max.y) / 2);\n      const  toCoord = Point.minus(node.coord, center);\n      toCoord.mul(.02);\n      anchor = Point.plus(center, toCoord);\n    } else if (placement === 'closestOnBbox') {\n      anchor = BoundingBox.closestPoint(node.coord, bbox);\n    } else {\n      anchor = d3.labeler.closestLineAnchorPoint(\n            node.coord,\n            {\n              left: bbox.min.x,\n              right: bbox.max.x,\n              top: bbox.min.y,\n              bottom: bbox.max.y,\n              cx: (bbox.min.x + bbox.max.x) / 2,\n              cy: (bbox.min.y + bbox.max.y) / 2\n            }\n        );\n    }\n\n    node.properties.leaderLineAnchor = anchor;\n  }\n  constructor(graph: any, defaultEdgeProp: TripEdgeProperties) {\n    const g = graph || {};\n    this.nodes = g.node || {};\n    this.edges = g.edges || [];\n    this.defaultEdgeProp = defaultEdgeProp;\n  }\n\n  createDefaultBezier() {\n    for (let i in this.edges) {\n      const e = this.edges[i];\n      const from = this.nodes[e.from];\n      const to = this.nodes[e.to];\n\n      e.controlPoints = TripGraph.generateControlPoints(undefined,\n                                                        from.coord, to.coord,\n                                                        undefined);\n    }\n  }\n\n  bezier(edge: TripEdge): any[] {\n    if (!edge.controlPoints || edge.properties.hidden) {\n      return [];\n    }\n\n    if (edge.properties.geom == 'straight'\n        || (!edge.properties.geom && this.defaultEdgeProp.geom == 'straight')) {\n      return TripGraph.bezierThroughPoints(\n          [ this.nodes[edge.from].coord, this.nodes[edge.to].coord ]);\n    }\n\n    if (edge.controlPoints.length === 2) {\n      const points = [\n        this.nodes[edge.from].coord,\n        edge.controlPoints[0],\n        edge.controlPoints[1],\n        this.nodes[edge.to].coord\n      ];\n      return [TripGraph.bezierFromPoints(points)];\n    } else if (edge.controlPoints.length === 5) {\n      const points1 = [\n        this.nodes[edge.from].coord,\n        edge.controlPoints[0],\n        edge.controlPoints[1],\n        edge.controlPoints[2],\n      ];\n      const points2 = [\n        edge.controlPoints[2],\n        edge.controlPoints[3],\n        edge.controlPoints[4],\n        this.nodes[edge.to].coord\n      ];\n      return [\n        TripGraph.bezierFromPoints(points1),\n        TripGraph.bezierFromPoints(points2)\n      ];\n    } else {\n      const allPoints = [this.nodes[edge.from].coord]\n        .concat(edge.controlPoints, [ this.nodes[edge.to].coord ]);\n      return TripGraph.bezierThroughPoints(allPoints);\n    }\n  }\n\n  bounds(): BoundingBox {\n    const r = new BoundingBox();\n    for (let i in this.nodes) {\n      r.addPoint(this.nodes[i].coord);\n    }\n    return r;\n  }\n\n  // Returns a rectangle containing all the nodes with the desired aspect ratio\n  // and margin factor.\n  //\n  // aspectRatio: width / height\n  frame(aspectRatio?: number, marginRatio?: Point | number): BoundingBox {\n    const bounds = this.bounds();\n    marginRatio = marginRatio || 1.1;\n\n    if (!bounds.max || !bounds.min) {\n      // no point. Let's use the full world.\n      bounds.min = new Point(0, 0);\n      bounds.max = new Point(1, 1);\n      marginRatio = 1;\n    } else if (bounds.min.x === bounds.max.x) {\n      // degenerate case, most likely becase was only 1 point. We need an area\n      // to define a frame.\n      const delta = new Point(1/32, 1/32);\n      bounds.addPoint(Point.plus(bounds.min, delta));\n      bounds.addPoint(Point.minus(bounds.min, delta));\n    }\n\n    aspectRatio = aspectRatio\n      || (bounds.max.x - bounds.min.x) / (bounds.max.y - bounds.min.y);\n\n    const margin = (typeof(marginRatio) === 'number' ?\n                  new Point(marginRatio, marginRatio) : marginRatio);\n\n    const initialSize = Point.minus(bounds.max, bounds.min);\n    initialSize.x *= margin.x;\n    initialSize.y *= margin.y;\n\n    const widthFromHeight = initialSize.y * aspectRatio;\n\n    let size;\n    if (initialSize.x > widthFromHeight) {\n      size = new Point(initialSize.x, initialSize.x / aspectRatio);\n    } else {\n      size = new Point(initialSize.y * aspectRatio, initialSize.y);\n    }\n\n    size.mul(.5);\n    const center = Point.times(0.5, Point.plus(bounds.max, bounds.min));\n    const result = new BoundingBox();\n    result.addPoint(Point.minus(center, size));\n    result.addPoint(Point.plus(center, size));\n    return result;\n  }\n\n  location(aspectRatio?: number, marginRatio?: Point | number) {\n    const frame = this.frame(aspectRatio, marginRatio);\n    const dx = frame.max.x - frame.min.x;\n    return {\n      x: (frame.max.x + frame.min.x) / 2,\n      y: (frame.max.y + frame.min.y) / 2,\n      scale: Math.max(1 / (1<<15), (frame.max.x - frame.min.x))\n    };\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/trip-graph.ts","import {Point, IPoint } from './point';\nimport { BoundingBox } from './bounding-box';\n\nexport interface TripNodeProperties {\n  point?: boolean;\n  leaderLine?: string;\n  dashed?: number[];\n  leaderLineWidth?: number;\n  maxLeaderLineLength?: number;\n  labelBbox?: BoundingBox;\n  radius?: number;\n  leaderLineAnchor?: Point;\n  labelColor?: string;\n  labelCoord?: Point;\n  userPlacement?: Point;\n  frame?: string;\n  leaderLineColor?: string;\n  fontSize?: number;\n  font?: string;\n  stroke?: string;\n  haloWidth?: number;\n  fill?: string;\n  textOffset?: number;\n  textPlacement?: string;\n  skip?: boolean;\n  landing?: boolean;\n  takeoff?: boolean;\n  markStyle?: string;\n  firstVisited?: boolean;\n}\n\nexport interface ITripNode {\n  coord: IPoint | number[];\n  dbid?: number;\n  name?: string;\n  label?: string;\n  labelIcon?: {\n    url: string;\n    width?: number;\n    height?: number;\n    autorotate?: number;\n    angle?: number;\n    ratioX?: number;\n    ratioY?: number;\n  };\n  properties?: TripNodeProperties;\n\n  viewerPos?: Point;\n  place?: TripNode;\n}\n\nexport class TripNode implements ITripNode {\n  coord: Point;\n  dbid?: number;\n  name?: string;\n  label?: string;\n  labelIcon?: {\n    url: string;\n    width?: number;\n    height?: number;\n    autorotate?: number;\n    angle?: number;\n    ratioX?: number;\n    ratioY?: number;\n  };\n  properties?: TripNodeProperties;\n\n  viewerPos?: Point;\n  place?: TripNode;\n  allPlaces: TripNode[];\n\n  constructor() {\n    this.allPlaces = [];\n  };\n\n  static parse(obj: any): TripNode {\n    const r = new TripNode();\n    r.coord = new Point(obj.coord);\n    if (obj.place) {\n      obj.place = TripNode.parse(obj.place);\n    }\n    if (obj.viewerPos) {\n      r.viewerPos = new Point(obj.viewerPos);\n    }\n    for (let m of ['dbid', 'name', 'label', 'labelIcon', 'properties']) {\n      if (obj[m]) {\n        r[m] = obj[m];\n      }\n    }\n    if (!r.name) {\n      if (r.dbid !== undefined) {\n        r.name = '' + r.dbid;\n      } else if (r.label) {\n        r.name = r.label;\n      }\n    }\n\n    if (r.properties) {\n      if (r.properties.labelBbox) {\n        r.properties.labelBbox = new BoundingBox(r.properties.labelBbox);\n      }\n      if (r.properties.leaderLineAnchor) {\n        r.properties.leaderLineAnchor = new Point(r.properties.leaderLineAnchor);\n      }\n      if (r.properties.labelCoord) {\n        r.properties.labelCoord = new Point(r.properties.labelCoord);\n      }\n    } else {\n      r.properties = { };\n    }\n    return r;\n  }\n\n  isSkipped():boolean {\n    if (this.label\n        && (!this.properties || this.properties.skip === undefined)) {\n      return false;\n    }\n    return this.properties.skip;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/mapviewer/trip-node.ts","import { Component, OnInit } from '@angular/core';\nimport { Http, Response }          from '@angular/http';\nimport { GoogleMapsAPIWrapper } from '@agm/core/services';\n\nimport { LatLngLiteral } from '@agm/core/services/google-maps-types';\n\nimport { CanvasOverlay } from './canvas-overlay';\n\ndeclare var currentTripmapUrl : string;\ndeclare var $: any;\n\n@Component({\n  selector: 'trip-layer',\n  template: '<div></div>'\n  //templateUrl: './app.component.html',\n  //styleUrls: ['./app.component.css']\n})\nexport class TripLayer implements OnInit {\n  private overlay : CanvasOverlay;\n\n  constructor(private gmap: GoogleMapsAPIWrapper, private http: Http) {\n  } \n  ngOnInit() {\n    this.overlay = new CanvasOverlay();\n    this.gmap.getNativeMap().then(map => {\n      this.overlay.setMap(map);\n    });\n    this.gmap.subscribeToMapEvent('center_changed')\n      .subscribe(() => { this.overlay.refresh(); });\n\n    console.log('Fetching ' + currentTripmapUrl);\n    $.getJSON(currentTripmapUrl,\n              (data: any) => { this.overlay.setTrip(data); });\n    //this.http.get(currentTripmapUrl)\n    //   .subscribe((res:Response) => this.overlay.setTrip(res.json()));\n  }\n\n  focusOnPoint(p: LatLngLiteral) {\n    this.overlay.focusOnPoint(p);\n  }\n  setZoom(zoom: number) {\n    this.overlay.setZoom(zoom);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/app/trip-layer/trip-layer.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (true || environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/stephanemartignier/Dev/jpmguides/destinationbook-server/frontend/offer/src/main.ts"],"sourceRoot":"webpack:///"}